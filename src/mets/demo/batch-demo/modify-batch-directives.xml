<?xml version="1.0" encoding="utf-8"?>
<!-- ************************************************************************************************************ -->
<!-- This is a sample modify directives file that performs a variety of modfications on the                    -->
<!-- datastreams and disseminators of a new demo object (demo:32) that the script will create.       -->
<!-- In general, one should always validate a modify directives file against the modifyBatch schema -->
<!-- prior to running to catch syntax errors.  Parsing  will halt if the file is not valid and a log is             -->
<!-- generated. Refer to the modifyBatch.xsd schema file for details on the syntax  for this file.           -->
<!-- ************************************************************************************************************ -->
<fbm:batchModify xmlns:fbm="http://www.fedora.info/definitions/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.fedora.info/definitions/ http://www.fedora.info/definitions/1/0/api/batchModify.xsd">
	<!-- ************************************************************************************************************ -->
	<!-- Add a new empty object to the repository that has no datastreams or disseminators.                   -->
	<!--                                                                                                                                                                    -->
	<!-- NOTE: By default each Fedora repository specifies several PID namespaces that will be           -->
	<!-- ignored by the repository allowing ingested objects to retain the value specified at ingest time.  -->
	<!-- this list of PID namespaces is configurable in fedora.fcfg. Specifying a PID value that starts       -->
	<!-- with demo, test, or changeme will create the object with the specified PID. Any other                   -->
	<!--namespace will be ignored and new PID will be generated by and assigned to the object. In       -->
	<!-- this example, demo:32 is specified so the generated object will retain this PID value after          -->
	<!-- ingestion.                                                                                                                                                 -->
	<!-- ************************************************************************************************************ -->
	<fbm:addObject pid="demo:32" label="Sample Object Used With Batch Modify Utility" contentModel="Object"/>
	<!-- ************************************************************************************************************ -->
	<!-- Add a new datastream to demo:32 object. Since this is the first datastream for this object, it      -->
	<!-- will be assigned datastreamID of DS1. The new datastream will be a thumbnail image.              -->
	<!-- ************************************************************************************************************ -->
	<fbm:addDatastream pid="demo:32" dsLabel="Thorny's Coliseum thumbnail jpg image" dsMIME="image/jpeg" dsLocation="http://localhost:8080/demo/simple-image-demo/coliseum-thumb.jpg" dsControlGroupType="E" dsState="A"/>
	<!-- ************************************************************************************************************ -->
	<!-- Add a new datastream to demo:32 object. Since this is the second datastream for this object,   -->
	<!-- it will be assigned datastreamID of DS2. The new datastream will be a medium resolution          -->
	<!-- image.                                                                                                                                                       -->
	<!-- ************************************************************************************************************ -->
	<fbm:addDatastream pid="demo:32" dsLabel="Thorny's Coliseum medium jpg image" dsMIME="image/jpeg" dsLocation="http://localhost:8080/demo/simple-image-demo/coliseum-medium.jpg" dsControlGroupType="E" dsState="A"/>
	<!-- ************************************************************************************************************ -->
	<!-- Add a new datastream to demo:32 object. Since this is the third datastream for this object, it     -->
	<!-- will be assigned datastreamID of DS3. The new datastream will be a high resolution image.      -->
	<!-- ************************************************************************************************************ -->
	<fbm:addDatastream pid="demo:32" dsLabel="Thorny's Coliseum high jpg image" dsMIME="image/jpeg" dsLocation="http://localhost:8080/demo/simple-image-demo/coliseum-high.jpg" dsControlGroupType="M" dsState="A"/>
	<!-- ************************************************************************************************************ -->
	<!-- Add a new datastream to demo:32 object. Since this is the fourth datastream for this object, it   -->
	<!-- will be assigned datastreamID of DS4. The new datastream will be a very high resolution           -->
	<!--  image.                                                                                                                                                      -->
	<!-- ************************************************************************************************************ -->
	<fbm:addDatastream pid="demo:32" dsLabel="Thorny's Coliseum veryhigh jpg image" dsMIME="image/jpeg" dsLocation="http://localhost:8080/demo/simple-image-demo/coliseum-veryhigh.jpg" dsControlGroupType="M" dsState="A"/>
	<!-- ************************************************************************************************************ -->
	<!-- Add a new datastream to demo:32 object. Since this is the fifth datastream for this object, it      -->
	<!-- will be assigned datastreamID of DS5. The new datastream will be a screen size image.           -->
	<!-- ************************************************************************************************************ -->
	<fbm:addDatastream pid="demo:32" dsLabel="Thorny's Coliseum screen size jpg image" dsMIME="image/jpeg" dsLocation="http://localhost:8080/demo/simple-image-demo/coliseum-high.jpg" dsControlGroupType="E" dsState="A"/>
	<!-- ************************************************************************************************************ -->
	<!-- Add a new datastream to demo:32 object. Since this is the sixth datastream for this object, it     -->
	<!-- will be assigned datastreamID of DS6. The new datastream will be a user-defined descriptive   -->
	<!-- metadata datastream.                                                                                                                             -->
	<!-- ************************************************************************************************************ -->
	<fbm:addDatastream pid="demo:32" dsLabel="Descriptive metadata for Thorny's Coliseum screen size jpg image" dsMIME="text/xml" dsControlGroupType="X" dsMdClass="descriptive" dsState="A">
		<fbm:xmlData>
			<uvalibdesc:desc xmlns:uvalibdesc="http://dl.lib.virginia.edu/bin/dtd/descmeta/descmeta.dtd">
				<uvalibdesc:time>
					<uvalibdesc:date type="created" certainty="ca." era="bc">1st century</uvalibdesc:date>
				</uvalibdesc:time>
				<uvalibdesc:identifier scheme="URN">uva-lib:2</uvalibdesc:identifier>
				<uvalibdesc:rights type="use">unrestricted</uvalibdesc:rights>
				<uvalibdesc:subject scheme="other" othertype="keyword">Roman Empire</uvalibdesc:subject>
				<uvalibdesc:subject scheme="other" othertype="keyword">Roman</uvalibdesc:subject>
				<uvalibdesc:subject scheme="other" othertype="keyword">Vespaciano</uvalibdesc:subject>
				<uvalibdesc:subject scheme="other" othertype="keyword">Amphitheatrum Flavium</uvalibdesc:subject>
				<uvalibdesc:title type="main">Coliseum -- Rome, Italy</uvalibdesc:title>
				<uvalibdesc:form>architecture</uvalibdesc:form>
				<uvalibdesc:mediatype type="image">
					<uvalibdesc:form>digital</uvalibdesc:form>
				</uvalibdesc:mediatype>
				<uvalibdesc:agent role="publisher">Alderman Library</uvalibdesc:agent>
				<uvalibdesc:covspace>
					<uvalibdesc:geometry>
						<uvalibdesc:point>
							<uvalibdesc:lat>41.54N</uvalibdesc:lat>
							<uvalibdesc:long>12.27E</uvalibdesc:long>
						</uvalibdesc:point>
					</uvalibdesc:geometry>
				</uvalibdesc:covspace>
				<uvalibdesc:covtime>
					<uvalibdesc:date era="bc">72</uvalibdesc:date>
					<uvalibdesc:date era="bc">80</uvalibdesc:date>
				</uvalibdesc:covtime>
				<uvalibdesc:culture>Roman</uvalibdesc:culture>
				<uvalibdesc:place type="original">
					<uvalibdesc:geogname>Italy, Rome</uvalibdesc:geogname>
				</uvalibdesc:place>
			</uvalibdesc:desc>
		</fbm:xmlData>
	</fbm:addDatastream>
	<!-- ************************************************************************************************************ -->
	<!-- Add a new datastream to demo:32 object. Since this is the seventh datastream for this object,  -->
	<!-- it will be assigned datastreamID of DS7. The new datastream will be duplicate of the screen     -->
	<!-- size image that will be deleted later in this set of directives.                                                              -->
	<!-- ************************************************************************************************************ -->
	<fbm:addDatastream pid="demo:32" dsLabel="Thorny's Coliseum screen size jpg image" dsMIME="image/jpeg" dsLocation="http://localhost:8080/demo/simple-image-demo/coliseum-high.jpg" dsControlGroupType="R" dsState="A"/>
	<!-- ************************************************************************************************************ -->
	<!-- Modify datastream DS1 of demo:5 object by changing its label.                                                       -->
	<!--                                                                                                                                                                   -->
	<!-- NOTE: Optional attributes that are omitted or set to "" imply that the original values are to           -->
	<!-- remain unchanged so in this example the datastream location, and state             -->
	<!-- attributes are not modified.                                                                                                                    -->
	<!-- ************************************************************************************************************ -->
	<fbm:modifyDatastream pid="demo:32" dsID="DS1" dsControlGroupType="E" dsLabel="New label for datastream DS1"/>
	<!-- ************************************************************************************************************ -->
	<!-- Modify datastream DS5 of demo:32 object by changing its label and datastream location so     -->
	<!-- that it points to the same content as that of datastream DS3 which is a high-res image.               -->
	<!--                                                                                                                                                                   -->
	<!-- NOTE: Optional attributes that are omitted or set to "" imply that the original values are to           -->
	<!-- remain unchanged so in this example the datastream state attribute is not modified.                                                                                                                    -->
	<!-- ************************************************************************************************************ -->
	<fbm:modifyDatastream pid="demo:32" dsID="DS5" dsControlGroupType="E" dsLabel="Changed label for datastream DS5" dsLocation="http://localhost:8080/fedora/get/demo:5/fedora-system:3/getItem?itemID=DS4"/>
	<!-- ************************************************************************************************************ -->
	<!-- Modify datastream DC of demo:32 object by changing its label and its xml content so that.         -->
	<!-- its content is replaced byt he block of xml below.                                                                                -->
	<!--                                                                                                                                                                   -->
	<!-- NOTE: Optional attributes that are omitted or set to "" imply that the original values are to           -->
	<!-- remain unchanged so in this example the datastream state attribute is not modified.                                                                                                                    -->
	<!-- ************************************************************************************************************ -->
	<fbm:modifyDatastream pid="demo:32" dsID="DC" dsControlGroupType="X" dsLabel="New label for DC datastream">
		<fbm:xmlData>
			<oai_dc:dc xmlns:oai_dc="http://www.openarchives.org/OAI/2.0/oai_dc/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:my="http//foo.bar.none">
				<dc:title>Coliseum in Rome</dc:title>
				<dc:creator>Thornton Staples</dc:creator>
				<dc:subject>Architecture, Roman</dc:subject>
				<dc:description>Image of Coliseum in Rome</dc:description>
				<dc:publisher>University of Virginia Library</dc:publisher>
				<dc:format>image/jpeg</dc:format>
				<dc:identifier>demo:5</dc:identifier>
				<my:this>some text</my:this>
				<my:that>some more text</my:that>
				<my:other>even more text</my:other>
			</oai_dc:dc>
		</fbm:xmlData>
	</fbm:modifyDatastream>
	<!-- ************************************************************************************************************ -->
	<!-- Purge datastream DS7 from object demo:32                                                                                        -->
	<!-- ************************************************************************************************************ -->
	<fbm:purgeDatastream pid="demo:32" dsID="DS7"/>
	<!-- ************************************************************************************************************ -->
	<!-- Change the state of datastream DS1 to deleted                                                                                 -->
	<!-- ************************************************************************************************************ -->
	<fbm:setDatastreamState pid="demo:32" dsID="DS1" dsState="D"/>
	<!-- ************************************************************************************************************ -->
	<!-- Change the state of datastream DS7 to inactive                                                                                 -->
	<!-- ************************************************************************************************************ -->
	<fbm:setDatastreamState pid="demo:32" dsID="DS6" dsState="I"/>
	<!-- ************************************************************************************************************ -->
	<!-- Add a new disseminator for object demo:32 using the UVA Simple Image Behavior Definition  -->
	<!-- (demo:1) and Fedora HTTP Getter Service (demo:2). Binding Key names defined for this         -->
	<!-- mechanism include: THUMBRES_IMAG, MEDRES_IMG, HIGHRES_IMG, and                           -->
	<!-- VERYHIGHRES_IMG.                                                                                                                           -->
	<!-- ************************************************************************************************************ -->
	<fbm:addDisseminator pid="demo:32" bDefPid="demo:1" bMechPid="demo:2" bDefLabel="" bMechLabel="" dissLabel="HTTP Getter Image Disseminator" dissState="A">
		<fbm:addDatastreamBinding dsBindKeyName="THUMBRES_IMG" dsID="DS1" dsBindLabel=""/>
		<fbm:addDatastreamBinding dsBindKeyName="MEDRES_IMG" dsID="DS2" dsBindLabel=""/>
		<fbm:addDatastreamBinding dsBindKeyName="HIGHRES_IMG" dsID="DS3" dsBindLabel=""/>
		<fbm:addDatastreamBinding dsBindKeyName="VERYHIGHRES_IMG" dsID="DS4" dsBindLabel=""/>
	</fbm:addDisseminator>
	<!-- ************************************************************************************************************ -->
	<!-- Add a second disseminator to the object demo:32 using the Image Manipulation Behavior         -->
	<!-- Definition (demo:27) and the Image Manipulation service (demo:28). The mechanism                -->
	<!-- specifies a sinlge Binding Key name of url.                                                                                         -->
	<!-- ************************************************************************************************************ -->
	<fbm:addDisseminator pid="demo:32" bDefPid="demo:27" bMechPid="demo:28" bDefLabel="" bMechLabel="" dissLabel="Image Manipulation Disseminator" dissState="A">
		<fbm:addDatastreamBinding dsBindKeyName="url" dsID="DS5" dsBindLabel=""/>
	</fbm:addDisseminator>
	<!-- ************************************************************************************************************ -->
	<!-- Modify the first disseminator by changing its label and also the label for its associated behavior -->
	<!-- definition label.  Also remove the datastream binding for DS3 and replace it with a new binding -->
	<!-- that maps to DS5 for the high resolution image.                                                                                  -->
	<!--                                                                                                                                                                    -->
	<!-- NOTE: Optional attributes that are omitted or set to "" imply that the original values are to            -->
	<!-- remain unchanged so in this example the disseminator bMech label is not modified.                    -->
	<!-- ************************************************************************************************************ -->
	<fbm:modifyDisseminator pid="demo:32" dissID="DISS1" bMechPid="demo:2" dissLabel="changed DISS label" bDefLabel="new label for dDef" bMechLabel="" dissState="A">
		<fbm:removeDatastreamBinding dsID="DS3"/>
		<fbm:addDatastreamBinding dsBindKeyName="HIGHRES_IMG" dsID="DS5" dsBindLabel="Label for New Binding"/>
	</fbm:modifyDisseminator>
	<!-- ************************************************************************************************************ -->
	<!-- Modify the second disseminator by changing the label of its associated behavior mechanism.  -->
	<!-- Also remove the datastream binding for DS5. Note that since no new binding was added to     -->
	<!-- replace the one deleted, disseminations will now fail for the second disseminator since no        -->
	<!-- datastreams are bound to the disseminator any longer. This can be remedied by adding back -->
	<!-- the necessary binding using the batch modify utility or using the admin GUI client.                        -->
	<!--                                                                                                                                                                  -->
	<!-- NOTE: Optional attributes that are omitted or set to "" imply that the original values are to          -->
	<!-- remain unchanged so in this example the disseminator label and bDef label are not modified.  -->
	<!-- ************************************************************************************************************ -->
	<fbm:modifyDisseminator pid="demo:32" dissID="DISS2" bMechPid="demo:28" bMechLabel="new label for bmech" bDefLabel="" dissState="A">
		<fbm:removeDatastreamBinding dsID="DS5"/>
	</fbm:modifyDisseminator>
</fbm:batchModify>

<?xml version="1.0" encoding="UTF-8"?>
<web-app id="WebApp_ID" version="2.4"
	xmlns="http://java.sun.com/xml/ns/j2ee"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd">

	<display-name>Fedora Repository Server</display-name>

	<!-- Servlets for SOAP-based web service interfaces to the Fedora Repository Server-->
	<servlet>
		<display-name>Apache-Axis Servlet</display-name>
		<servlet-name>AxisServlet</servlet-name>
		<servlet-class>
			org.apache.axis.transport.http.AxisServlet
		</servlet-class>
		<load-on-startup>3</load-on-startup>
	</servlet>

	<!-- Servlets for REST-based interfaces to the Fedora Repository Server-->
	<servlet>
		<display-name>Fedora Access Servlet</display-name>
		<servlet-name>AccessServlet</servlet-name>
		<servlet-class>
			fedora.server.access.FedoraAccessServlet
		</servlet-class>
	</servlet>
	<servlet>
		<display-name>
			Fedora Controller Servlet (start, stop, get server status)
		</display-name>
		<servlet-name>ControlServlet</servlet-name>
		<servlet-class>fedora.server.ServerController</servlet-class>
		<load-on-startup>2</load-on-startup>
	</servlet>
	<servlet>
		<display-name>Fedora Datastream Resolver Servlet</display-name>
		<servlet-name>DatastreamResolverServlet</servlet-name>
		<servlet-class>
			fedora.server.access.dissemination.DatastreamResolverServlet
		</servlet-class>
	</servlet>
	<servlet>
		<display-name>
			Fedora Repository Description Servlet
		</display-name>
		<servlet-name>DescribeRepositoryServlet</servlet-name>
		<servlet-class>
			fedora.server.access.DescribeRepositoryServlet
		</servlet-class>
	</servlet>
	<servlet>
		<display-name>Fedora Search Servlet</display-name>
		<servlet-name>FieldSearchServlet</servlet-name>
		<servlet-class>
			fedora.server.access.FieldSearchServlet
		</servlet-class>
	</servlet>
	<servlet>
		<display-name>Fedora PID Generator Servlet</display-name>
		<servlet-name>GetNextPIDServlet</servlet-name>
		<servlet-class>
			fedora.server.management.GetNextPIDServlet
		</servlet-class>
	</servlet>
	<servlet>
		<display-name>
			Fedora Backend Security Configuration Servlet
		</display-name>
		<servlet-name>BESecurityServlet</servlet-name>
		<servlet-class>
			fedora.server.management.BESecurityServlet
		</servlet-class>
	</servlet>
	<servlet>
		<display-name>Fedora Object History Servlet</display-name>
		<servlet-name>GetObjectHistoryServlet</servlet-name>
		<servlet-class>
			fedora.server.access.GetObjectHistoryServlet
		</servlet-class>
	</servlet>
	<servlet>
		<display-name>Fedora List Datastreams Servlet</display-name>
		<servlet-name>ListDatastreamsServlet</servlet-name>
		<servlet-class>
			fedora.server.access.ListDatastreamsServlet
		</servlet-class>
	</servlet>
	<servlet>
		<display-name>Fedora List Methods Servlet</display-name>
		<servlet-name>ListMethodsServlet</servlet-name>
		<servlet-class>
			fedora.server.access.ListMethodsServlet
		</servlet-class>
	</servlet>
	<servlet>
		<display-name>Fedora Method Parm Resolver Servlet</display-name>
		<servlet-name>MethodParameterResolverServlet</servlet-name>
		<servlet-class>
			fedora.server.access.MethodParameterResolverServlet
		</servlet-class>
	</servlet>
	<servlet>
		<display-name>Fedora OAI Provider Servlet</display-name>
		<servlet-name>OAIProviderServlet</servlet-name>
		<servlet-class>
			fedora.server.oai.FedoraOAIProviderServlet
		</servlet-class>
	</servlet>
	<servlet>
		<display-name>Fedora Report Servlet</display-name>
		<servlet-name>ReportServlet</servlet-name>
		<servlet-class>
			fedora.server.access.ReportServlet
		</servlet-class>
	</servlet>
	<servlet>
		<display-name>
			Fedora Resource Index Search Servlet
		</display-name>
		<servlet-name>RISearchServlet</servlet-name>
		<servlet-class>
			fedora.server.access.RISearchServlet
		</servlet-class>
	</servlet>
	<servlet>
		<display-name>
			Fedora Upload Servlet (accepts HTTP POST to upload a file
			and sends back an identifier)
		</display-name>
		<servlet-name>UploadServlet</servlet-name>
		<servlet-class>
			fedora.server.management.UploadServlet
		</servlet-class>
	</servlet>
<!--
	<servlet>
		<display-name>Fedora Manager</display-name>
		<servlet-name>ManagerServlet</servlet-name>
		<servlet-class>fedora.server.webmanager</servlet-class>
		<init-param>
			<param-name>fedora.home</param-name>
			<param-value></param-value>
		</init-param>
		<load-on-startup>1</load-on-startup>
	</servlet>
-->

	<!-- Servlet Mappings for Fedora Repository Server -->
<!--	
	<servlet-mapping>
		<servlet-name>ManagerServlet</servlet-name>
		<url-pattern>/manager</url-pattern>
	</servlet-mapping>
-->	

	<servlet-mapping>
		<servlet-name>AxisServlet</servlet-name>
		<url-pattern>/services/*</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>AxisServlet</servlet-name>
		<url-pattern>*.jws</url-pattern>
	</servlet-mapping>
	<servlet>
		<display-name>Axis WSDL Filter Servlet</display-name>
		<servlet-name>AxisWSDLFilterServlet</servlet-name>
		<servlet-class>
			fedora.server.utilities.AxisWSDLFilterServlet
		</servlet-class>
	</servlet>
	<!-- 
		<servlet-mapping>
		<url-pattern>/index.html</url-pattern>
		</servlet-mapping>
	-->
	<servlet-mapping>
		<servlet-name>AccessServlet</servlet-name>
		<url-pattern>/get/*</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>BESecurityServlet</servlet-name>
		<url-pattern>/management/backendSecurity</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>ControlServlet</servlet-name>
		<url-pattern>/management/control</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>DatastreamResolverServlet</servlet-name>
		<url-pattern>/getDS</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>DatastreamResolverServlet</servlet-name>
		<url-pattern>/getDSAuthenticated</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>DescribeRepositoryServlet</servlet-name>
		<url-pattern>/describe</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>FieldSearchServlet</servlet-name>
		<url-pattern>/search</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>GetObjectHistoryServlet</servlet-name>
		<url-pattern>/getObjectHistory/*</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>GetNextPIDServlet</servlet-name>
		<url-pattern>/management/getNextPID</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>ListDatastreamsServlet</servlet-name>
		<url-pattern>/listDatastreams/*</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>ListMethodsServlet</servlet-name>
		<url-pattern>/listMethods/*</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>MethodParameterResolverServlet</servlet-name>
		<url-pattern>/getAccessParmResolver</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>OAIProviderServlet</servlet-name>
		<url-pattern>/oai</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>ReportServlet</servlet-name>
		<url-pattern>/report</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>RISearchServlet</servlet-name>
		<url-pattern>/risearch</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>UploadServlet</servlet-name>
		<url-pattern>/management/upload</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>AxisServlet</servlet-name>
		<url-pattern>/servlet/AxisServlet</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>AxisServlet</servlet-name>
		<url-pattern>*.jws</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>AxisServlet</servlet-name>
		<url-pattern>/services/*</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>AxisWSDLFilterServlet</servlet-name>
		<url-pattern>/access/wsdl</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>AxisWSDLFilterServlet</servlet-name>
		<url-pattern>/management/wsdl</url-pattern>
	</servlet-mapping>

	<security-constraint>
		<web-resource-collection>
			<web-resource-name>
				Fedora Repository Server
			</web-resource-name>
			<description>
				Fedora-generated security-constraint
			</description>
			<url-pattern>/</url-pattern>
			<http-method>TRACE</http-method>
			<http-method>DELETE</http-method>
			<http-method>OPTIONS</http-method>
			<http-method>POST</http-method>
			<http-method>HEAD</http-method>
			<http-method>GET</http-method>
			<http-method>PUT</http-method>
		</web-resource-collection>
	</security-constraint>
	<security-constraint>
		<web-resource-collection>
			<web-resource-name>
				Fedora Repository Server
			</web-resource-name>
			<description>
				Fedora-generated security-constraint
			</description>
			<url-pattern>*.jsp</url-pattern>
			<http-method>POST</http-method>
			<http-method>HEAD</http-method>
			<http-method>GET</http-method>
		</web-resource-collection>
	</security-constraint>
	<security-constraint>
		<web-resource-collection>
			<web-resource-name>
				Fedora Repository Server
			</web-resource-name>
			<description>
				Fedora-generated security-constraint
			</description>
			<url-pattern>/getDS</url-pattern>
			<http-method>POST</http-method>
			<http-method>HEAD</http-method>
			<http-method>GET</http-method>
		</web-resource-collection>
	</security-constraint>
	<security-constraint>
		<web-resource-collection>
			<web-resource-name>
				Fedora Repository Server
			</web-resource-name>
			<description>
				Fedora-generated security-constraint
			</description>
			<url-pattern>/management/control</url-pattern>
			<http-method>POST</http-method>
			<http-method>HEAD</http-method>
			<http-method>GET</http-method>
		</web-resource-collection>
		<auth-constraint>
			<role-name>*</role-name>
		</auth-constraint>
	</security-constraint>
	<security-constraint>
		<web-resource-collection>
			<web-resource-name>
				Fedora Repository Server
			</web-resource-name>
			<description>
				Fedora-generated security-constraint
			</description>
			<url-pattern>/management/backendSecurity</url-pattern>
			<url-pattern>/services/management</url-pattern>
			<url-pattern>/getDSAuthenticated</url-pattern>
			<url-pattern>/management/getNextPID</url-pattern>
			<url-pattern>/management/upload</url-pattern>
			<url-pattern>*.jws</url-pattern>
			<url-pattern>/index.html</url-pattern>
			<http-method>POST</http-method>
			<http-method>HEAD</http-method>
			<http-method>GET</http-method>
		</web-resource-collection>
		<auth-constraint>
			<role-name>*</role-name>
		</auth-constraint>
		<user-data-constraint>
			<transport-guarantee>CONFIDENTIAL</transport-guarantee>
		</user-data-constraint>
	</security-constraint>
	<security-constraint>
		<web-resource-collection>
			<web-resource-name>
				Fedora Repository Server
			</web-resource-name>
			<description>
				Fedora-generated security-constraint
			</description>
			<url-pattern>/search</url-pattern>
			<url-pattern>/services/access</url-pattern>
			<url-pattern>/oai</url-pattern>
			<url-pattern>/getObjectHistory/*</url-pattern>
			<url-pattern>/describe</url-pattern>
			<url-pattern>/getAccessParmResolver</url-pattern>
			<url-pattern>/risearch</url-pattern>
			<url-pattern>/listMethods/*</url-pattern>
			<url-pattern>/listDatastreams/*</url-pattern>
			<url-pattern>/report</url-pattern>
			<url-pattern>/get/*</url-pattern>
			<http-method>POST</http-method>
			<http-method>HEAD</http-method>
			<http-method>GET</http-method>
		</web-resource-collection>
	</security-constraint>

	<welcome-file-list>
		<welcome-file>index.html</welcome-file>
		<welcome-file>index.jsp</welcome-file>
	</welcome-file-list>

	<error-page>
		<error-code>100</error-code>
		<location>/jsp/continue-100.jsp</location>
	</error-page>
	<error-page>
		<exception-type>
			fedora.server.errors.servletExceptionExtensions.Continue100Exception
		</exception-type>
		<location>/jsp/continue-100.jsp</location>
	</error-page>
	<error-page>
		<exception-type>
			fedora.server.errors.servletExceptionExtensions.Ok200Exception
		</exception-type>
		<location>/jsp/ok-200.jsp</location>
	</error-page>
	<error-page>
		<exception-type>
			fedora.server.errors.servletExceptionExtensions.BadRequest400Exception
		</exception-type>
		<location>/jsp/bad-request-400.jsp</location>
	</error-page>
	<error-page>
		<error-code>401</error-code>
		<location>/jsp/unauthorized-401.jsp</location>
	</error-page>
	<error-page>
		<exception-type>
			fedora.server.errors.servletExceptionExtensions.Unauthorized401Exception
		</exception-type>
		<location>/jsp/unauthorized-401.jsp</location>
	</error-page>
	<error-page>
		<error-code>403</error-code>
		<location>/jsp/forbidden-403.jsp</location>
	</error-page>
	<error-page>
		<exception-type>
			fedora.server.errors.servletExceptionExtensions.Forbidden403Exception
		</exception-type>
		<location>/jsp/forbidden-403.jsp</location>
	</error-page>
	<error-page>
		<exception-type>
			fedora.server.errors.servletExceptionExtensions.InternalError500Exception
		</exception-type>
		<location>/jsp/internal-error-500.jsp</location>
	</error-page>
	<error-page>
		<exception-type>javax.servlet.ServletException</exception-type>
		<location>/jsp/internal-error-500.jsp</location>
	</error-page>
	<error-page>
		<error-code>503</error-code>
		<location>/jsp/unavailable-503.jsp</location>
	</error-page>
	<error-page>
		<exception-type>
			fedora.server.errors.servletExceptionExtensions.Unavailable503Exception
		</exception-type>
		<location>/jsp/unavailable-503.jsp</location>
	</error-page>

	<login-config>
		<auth-method>BASIC</auth-method>
		<realm-name>Fedora Repository Server</realm-name>
	</login-config>

	<security-role>
		<role-name>administrator</role-name>
	</security-role>
</web-app>

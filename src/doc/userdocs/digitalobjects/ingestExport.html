<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
                      
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
    <title>Overview:Ingest and Export of Digital Objects</title>
    <link rel="stylesheet" type="text/css" href="../docstyle.css" />
</head>

<body>
<div id="header">
    <a href="../index.html" id="logo"></a>
    <div id="title">
        <h1>Ingest and Export of Digital Objects</h1>
        <h2>Fedora Release 2.0</h2>
    </div>
</div>

<div class="toc">
    <h2>Table of Contents</h2>
    <div class="tocbox">
        <ol>
            <li><a href="#Formats">A Brief Note on Ingest/Export XML Formats</a>
            </li>
            <li><a href="#Ingest.Admin">Ingest an Object via Fedora Administrator</a>
            </li>
            <li><a href="#Export.Admin">Export an Object via Fedora Administrator</a>
            </li>
            <li><a href="#Ingest.Cmd">Ingest an Object via Command Line</a>
            </li>
            <li><a href="#Export.Cmd">Export an Object via Command Line</a>
            </li>
            <li><a href="#Custom">Ingest/Export via your own SOAP client</a>
            </li>
        </ol>
    </div>
</div>
<div class="sec1">
      <h2><a name="Formats">A Brief Note on Ingest/Export XML Formats</a></h2>
    <p>
      Fedora digital objects can be encoded in different XML formats for ingest and export.  In Fedora 2.0, objects can be ingested and exported in either the Fedora Object XML (FOXML) format or the Metadata Encoding and Transmission Standard (METS).  Note that Fedora provides an extension of the METS 1.2 schema that adds a few attributes to support Fedora.  In upcoming Fedora releases, other XML formats will be accepted for ingest including MPEG21/DIDL and METS 1.3.  In each case there will be a profile for what a valid Fedora object looks like in those formats.</p>
    <p>For encoding ingest files in FOXML, please refer to the <a href="http://www.fedora.info/definitions/1/0/foxml1-0.xsd">FOXML XML schema</a> and the <a href="IntroFOXML.html">Introduction to FOXML</a> guide in the Fedora System Documentation.  Also look at the <a href="foxml-ingest-example.xml">sample FOXML ingest file</a> for a model of a typical ingest file using FOXML.</p>
    <p>For encoding ingest files in METS, please refer to the <a href=" http://www.fedora.info/definitions/1/0/mets-fedora-ext.xsd"> METS XML schema</a> (Fedora extension) and also <a href="rulesForMETS.html">rules for encoding Fedora objects in METS</a>  .</p>
</div>
  <!-- A sec1 is a top-level section -->
  <div class="sec1">
      <h2><a name="Ingest.Admin">Ingest an Object via Fedora Administrator</a></h2>
    <p>
      The Fedora Administrator client provides a graphical user interface for ingesting objects into a Fedora repository.  Behind the scenes, Administrator uses Fedora API-M, and the appropriate SOAP calls are made the the repository to accomplish the ingest.   Objects are ingested as XML files. </p>
<p>From Fedora Administrator, select File/Ingest from the menu bar.   You have the option to ingest one object from a file, or multiple objects either from a directory or from another Fedora repository.  </p>
<br></br>
<p><img src="images/ingestmenu.jpg"/></p>
<br></br>
<p>When ingesting from a file or a directory, you will be presented with a file browsing dialog, as shown below. Select the file or directory you wish to ingest from.</p>
<br></br>
<p><img src="images/ingestfiledialog.jpg"/></p>
<br></br>
<p>Next, you will be prompted with a dialog box to indicate the XML format of your file or files.  In Fedora 2.0 you have two options:  FOXML and METS (Fedora Extension).  Select the radio button for the appropriate format of your file or files.  Note that if you are ingesting multiple files from a directory, all files must be in the same XML format.  When you select the OK button your file or files will be ingested into the repository.  The Fedora Administrator client makes a call the the ingest operation of API-M.  A successful call results in a new digital object in the repository. </p>
<br></br>
<p><img src="images/ingestformat.jpg"/></p>
<br></br>
</div>
  <div class="sec1">
      <h2><a name="Export.Admin">Export an Object via Fedora Administrator</a></h2>
    <p>
      The Fedora Administrator client provides a graphical user interface for exporting objects from a Fedora repository.  Behind the scenes, Administrator uses Fedora API-M, and the appropriate SOAP calls are made the the repository to accomplish the export.   Objects are exported as XML files. </p> 
<p>The Fedora export operation can be used to migrate objects from one Fedora repository to another.   Export can be used for other purposes too.  You can requests XML encodings of a Fedora objects from a repository to archive objects in a separate offline location.  Also, you may want to dump selected objects into a directory to examine them, or perform some other function on them.  Another use for export is to enable transmission of an entire object to an external service.</p>
<p>From Fedora Administrator, select File/Export from the menu bar.  You have the option to export one object, or multiple objects by type, where type means one of the three primitive Fedora object types (FedoraObject, Fedora Behavior Definition, or Fedora Behavior Mechanism). </p>
<br></br>
<p><img src="images/exportmenu.jpg"/></p>
<br></br>
<p>Next, you will presented with a file browsing dialog where you can select the directory that the file will be exported to, as shown below.</p>
<br></br>
<p><img src="images/exporttofile.jpg"/></p>
<br></br>
<p>After you have selected the destination of the export file, you will be presented with the export options dialog, shown below.  In this dialog you must first select the XML FORMAT that you would like the digital object to be exported in.  In Fedora 2.0 there are two options:  FOXML and METS (Fedora extension).  Select the radio button for the format you want.  Then, you must specify the export CONTEXT to make sure the export file is prepared appropriately for the purpose it will serve.  There are three options:</p>
<ul>
	<li><strong>migrate: </strong> selecting the migrate context will ensure that the export file is encoded in a manner appropriate for migrating an object from one Fedora repository to another.  The important feature to note here is that when a Fedora object's datastream contains a URL that is relative to the repository in which the object resides, the migrate option will ensure that the URL remains relative in the <em>new</em> repository.  Any repository-relative URLs will be encoded in the export file with the special string &quot;fedora.local.server&quot; in place of the actual hostname and port of the repository. When the export file is ingested into another Fedora repository, these URLs will become relative to the hostname and port of the new repository. </li><br></br>
	<li><strong>public: </strong> selecting the public context will ensure that the export file is encoded in a manner appropriate for processing the digital object outside the context of a Fedora repository.  The file will contain callback URLs for all content stored inside the Fedora repository.  The assumption is that this file must not contain any internal identifiers that are only meaningful inside a Fedora repository.  Instead, all internal identifiers that point to datastream content inside a Fedora repository are converted to public access URLs.  These URLs are Fedora dissemination requests (upon API-A-LITE) for obtaining datastream content stored in the repository.   </li>
<br></br>
	<li><strong>archive: </strong>  the archive context is not available in Fedora 2.0.  In the future this option will be enabled to produce an export file that is self-contained, meaning that all datastream content is within the export file.  The file will serve as a self-contained archive of the digital object.  All XML content will be directly inlined within the XML export file.  All binary content will be base64-encoded within the export file.  There will be no callback URLs for datastream content.  This will be a true dump of a digital object to a single file.   </li>
</ul>
<br></br>
<p><img src="images/exportoptions.jpg"/></p>
<br></br>
<p>When you select the OK button, the digital object(s) will be exported from the repository into files(s) according to the options specified. Note that the digital object still resides inside the repository since the export file is just a copy of the digital object.</p>
<p>If you are using the export operation to migrate objects from one repository to another, there are two ways to accomplish this via Administrator.  The first option is the two-step approach.  You can login into Administrator connecting to the repository you want to export from.  Then, export objects into files in a directory.  Then use Administrator to connect to the repository you want to migrate the objects into and ingest the objects from the directory (assuming the directory is a shared a shared disk area).   Alternatively, you can let Fedora Administrator accomplish both the export and ingest in one step.  To do it this way, you login to the repository you want to migrate objects into (the target repository).  Then select the File/Ingest/ObjectsFromType/FromRepository menu option in Administrator.  You will be prompted to enter host, port, username, and password for the repository you want to export objects from (the source repository).  Fedora Adminstrator will automatically export objects from the source repository into the target repository in one step. </p>
</div>
  <div class="sec1">
      <h2><a name="Ingest.Cmd">Ingest an Object via Command Line</a></h2>
    <p>
      The Fedora Administrator client provides a command line utility for ingesting objects into a Fedora repository.  Behind the scenes, Administrator uses Fedora API-M, and the appropriate SOAP calls are made the the repository to accomplish the ingest.   Objects are ingested as XML files.   Please see the the <a href="../client/cmd-line/index.html#d0e164">fedora-ingest</a> utility in the Fedora Command Line Utility Guide</p>
</div>
  <div class="sec1">
      <h2><a name="Export.Cmd">Export an Object via Command Line</a></h2>
    <p>
      The Fedora Administrator client provides a command line utility for exporting objects from a Fedora repository.  Behind the scenes, Administrator uses Fedora API-M, and the appropriate SOAP calls are made the the repository to accomplish the export.   Objects are export as XML files.  Please see the the <a href="../client/cmd-line/index.html#d0e89">fedora-export</a> utility in the Fedora Command Line Utility Guide</p>
</div>
  <div class="sec1">
  	<h2><a name="Custom">Ingest/Export via Your Own SOAP Client</a></h2>
    <p>Of course, you can write your own client to perform ingest and export operations on a Fedora repository.  To do this, you must familiarize yourself with the operation syntax as expressed in the WSDL for <a href="http://www.fedora.info/definitions/1/0/api/#apim">API-M.</a>.  For programmers who are not familiar with writing SOAP clients, a sample java client is provided with the Fedora 2.0 release that demonstrates how to make SOAP requests for ingest and export.  The sample client provides java source code demonstrating how to connect to the Fedora API-A web service interface, how to construct an ingest/export request, and how to invoke the request.  Please refer to the example client which is found in the Fedora source distribution in the directory:  <b>  {FEDORA_HOME}/dist/client/demo/soapclient.</b>
</div>

<div id="footer">
    <div id="copyright">
        Copyright &#xA9; 2005 Fedora Project
    </div>
    <div id="lastModified">
        Last Modified
        <script type="text/javascript">
            var cvsDate = "$Date$";
            var parts = cvsDate.split(" ");
            var modifiedDate = parts[1];
            document.write(modifiedDate);
        </script>
    </div>
</div>
</body>
</html>

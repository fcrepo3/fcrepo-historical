<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
	<title>Fedora 2.2 Release Notes</title>
	<link rel="stylesheet" type="text/css" href="../docstyle.css" />
</head>

<body>

<div id="header">
	<a href="file:///C|/fedora-2.1.1-src/dist/userdocs/index.html" id="logo"></a>
	<div id="title">
		<h1>Fedora 2.2 Release Notes</h1>
		<h2>January XX, 2007</h2>
	</div>
</div>

<div id="toc">
	<h2>Table of Contents</h2>

	<div id="tocbox">
		<ol>
			<!--<li><a href="#features">New Features</a></li>-->
			<li><a href="#fedora22">Fedora 2.1 Release</a></li>
			<li><a href="#tune">Performance Tuning</a></li>
			<li><a href="#bugs">Bug Fixes</a></li>
			<li><a href="#issues">Known Issues</a></li>
			<li><a href="#install">Installation</a></li>
			<li><a href="#history">Historic Release Notes (prior releases)</a></li>
		</ol>
	</div>
</div>

<div id="introduction">
	<p>&nbsp;</p>
	<p class="MsoNormal">The <a href="http://www.fedora.info">Fedora Project</a> 
	is proud to announce the release of version 2.2 of the Fedora open-source 
	digital repository system.&nbsp; Fedora 2.2 is a maintenance release that provides a
	<b><i>significant 
	performance boost</i></b>&nbsp; for Fedora 2.1.&nbsp;&nbsp; It also resolves 
	a number of reported bugs.&nbsp;</p>
</div>

<div id="relnotes">
	<ol type="1">
		<!--<li><a id="features" name="features">New Features</a></li>-->
		<li><a name="fedora22">Fedora 2.1 Release</a>
			<p>Fedora 2.2 represents a significant release of Fedora because it includes a complete repackaging 
			of the Fedora source and binary distribution so that Fedora can now be installed as a standalone 
			webapp in any servlet container. In addition to the war file repackaging, the Fedora 2.2 release 
			includes several feature enhancements including new Fedora installer application, enhancements to 
			the WSDL for the Management and Access APIs, new Journaling feature useful for replicating repositories, 
			modification of several API-M methods to enhance functionality, enhancements to the Resource Index  
			enabling selection of an alternate triplestore database engine, integration of Gert Pedersen's 
			FedoraGSearch generic search application into the Fedora Services Framework, new Journaling system 
			to facilitate replication, and refactoring of the JUnit tests.</p>
			
			<p>New Features</p>
			<ol type="a">
				<li>Fedora WAR file - Fedora 2.2 represents a complete repackaging of the binary and source 
				distribution that now enables fedora to be built and installed as a standalone webapp. The 
				new distribution and installer enable three modes of installation: 1) bundledTomcat 2) 
				existingTomcat, and 3) other. The bundledTomcat mode installs Fedora with an embedded 
				tomcat 5.0.28 servlet container similar to previous versions of Fedora.  The existingTomcat 
				mode installs Fedora into an existing external tomcat installation. The last mode can be used 
				when installing Fedora into a servlet container other than tomcat.</li>
				
				<li>Fedora installer - Fedora 2.2 includes a new installer that can either be run 
				interactively to configure the installation or run using an install.properties file to 
				configure the installation of Fedora. In addition to configuring the type of servlet container 
				where Fedora is to be installed, the installer also configures location of FEDORA_HOME, 
				XACML policy configuration, and configuration of the Fedora security configuration.</li>
				
				<li>Changes to "modifyDatastreamByReference" method in API-M - As part of the refactoring to 
				fully implement the VERSIONABLE attribute on datastreams, the signature for the method 
				modifyDatastreamByReference has changed. The changes include removal of the "versionable" 
				and "dsState "arguments. Changes to the state or versionable status of a datastream should be 
				handled using the setDatastreamState and setDatastreamVersionable methods, respectively.
					<p>Here are the old and new signature for the method:</p>
					<div class="code">
						<p><b>Old</b></p>
						<pre>
public Date modifyDatastreamByReference(Context context, 
			 		 	String pid,
						String datastreamId, 
						String[] altIDs,
						String dsLabel, 
						boolean versionable,
						String mimeType,
						String formatURI,
						String dsLocation, 
						String dsState,
						String logMessage,
					  	boolean force)
throws ServerException
						</pre>
						<p><b>New</b></p>
						<pre>
public Date modifyDatastreamByReference(Context context, 
						String pid,
						String datastreamId, 
						String[] altIDs,
						String dsLabel, 
						String mimeType,
						String formatURI,
						String dsLocation, 
						String logMessage,
			  			boolean force)
throws ServerException
						</pre>
					</div>
				</li>
				
				<li>Changes to "modifyDatastreamByValue" method in API-M - As part of the refactoring to fully implement 
				the VERSIONABLE attribute on datastreams, the signature for the method modifyDatastreamByValue has changed. 
				The changes include removal of the "versionable" and "dsState " arguments. Changes to the state or 
				versionable status of a datastream should be handled using the setDatastreamState and setDatastreamVersionable 
				methods, respectively.
					<p>Here are the old and new signature for the method:</p>
					<div class="code">
						<p><b>Old</b></p>
						<pre>
public Date modifyDatastreamByValue(Context context, 
						String pid,
						String datastreamId, 
						String[] altIDs,
						String dsLabel, 
						boolean versionable,
						String mimeType,
						String formatURI,
						InputStream dsContent,
						String dsState,
						String logMessage,
						boolean force)
throws ServerException			
						</pre>
						<p><b>New</b></p>
						<pre>
public Date modifyDatastreamByValue(Context context, 
						String pid,
						String datastreamId, 
						String[] altIDs,
						String dsLabel, 
						String mimeType,
						String formatURI,
						InputStream dsContent,
						String logMessage,
						boolean force)
throws ServerException			
						</pre>
					</div>
				</li>
				
				<li>Journaling - Fedora 2.2 includes a new Journaling feature that keeps a full log of all object 
				modifications to a Fedora repository.  These logs can be used in a live leader/follower configuration 
				to support automatic replication to an identical Fedora repository, as well as for diagnostic or 
				auditing purposes.
				</li>
				
				<li>Resource Index Enhancements - In Fedora 2.2 an alternate (RDBMS-based, more stable, less feature-rich) 
				triplestore database can now be plugged in as Fedora's Resource Index.  In addition, we are currently 
				working on the messaging components necessary to support an optional, external Resource Index.
				</li>
				
				<li>WSDL changes - In response to requests from the Fedora community, the WSDL encoding for API-A and 
				API-M have been changed from the former "rpc-encoded" encoding to the more widely supported 
				"document/literal" encoding, using the "wrapped" convention. The "document/literal" encoding reflects 
				current best practice  and simplifies how Fedora API calls are represented over the network and 
				increases interoperability with other WSDL-aware tools.
				</li>
				
				<li>WSDL servlet - In response to requests from the Fedora community, an alternative method of 
				exporting the Fedora WSDL has been implemented. The live WSDL for any Fedora repository is now 
				available via HTTP GET at the path:
					<pre>      /fedora/wsdl</pre>
					<p>The WSDL provided under this path is publicly available, whereas the service endpoints themselves 
					may or may not be protected.  This is a change from previous versions, where the live WSDL was 
					available at the service endpoint URL, by appending "?wsdl" to the URL.  The change was made due to 
					problems encountered with Apache Axis' live wsdl functionality. The new alternative should greatly 
						improve interoperability between Fedora and other WSDL-aware software.</p> 
				</li>
				
				<li>Moved Fedora gSearch into service framework - The Fedora gSearch application developed by Gert 
				Schmeltz Pedersen as part of the Fedora Search Working group has now been integrated into the Fedora 
				services framework. Fedora gSearch represents a great example of how contributed work from the Fedora 
				community can be migrated from the user community into the Fedora framework and then made available 
				to the entire Fedora community. Fedora gSearch represents an extensible generic search service that 
				can be plugged into the Fedora Services Framework. It current supports both Lucene and Zebra as 
				backend search engines.  When the messaging components are finalized in a future release, it will 
				be possible to further decouple the gSearch service from Fedora and treat it as a "message reciever" 
				in the service framework.
				</li>
				
				<li>VERSIONABLE attribute on datastreams fully implemented - Fedora 2.2 fully implements the VERSIONABLE 
				attribute on datastreams and adds a new method named setDatastreamVersionable to API-M to enable changing 
				the versionable state of a datastream. This functionality enables repository managers to selectively turn 
				versioning on or off for selected datastreams. This new feature can also be controlled used XACML policies 
				by restricting access to the setDatastreamVersionable method in API-M which allows repository managers to 
				decide if they want to enable this feature or not. The signature for the new method is as follows:
					<p>Here are the old and new signature for the method:</p>
					<div class="code">
						<pre>
public Date setDatastreamVersionable(Context context,   
						String pid,     
						String datastreamID,    
						boolean versionable,    
						String logMessage)
throws ServerException	
						</pre>		
					</div>
				</li>
				
				<li>Change to "purgeDatastream" method in API-M - In response to the Fedora community, the signature for 
				the method named purgeDatastream has been changed. The new signature and underlying changes to the method 
				enable the purging of a specific datastream version or purging of a range of datastream versions. Here are 
				the old and new signatures:
					<div class="code">
						<p><b>Old</b></p>
						<pre>
public Date[ ] purgeDatastream(Context context,
						String pid,
						String datastreamID, 
						Date endDT,
						String logMessage,
						boolean force)
throws ServerException				
						</pre>
						<p><b>New</b></p>
						<pre>
public Date[ ] purgeDatastream(Context context, 
						String pid,
						String datastreamID, 
						Date startDT,
						Date endDT,
						String logMessage,
						boolean force)
throws ServerException			
						</pre>			
					</div>
					<p>Changes supporting this new functionality have also been made in the Fedora administrative client.</p>		
				</li>
				
				<li>METS schema changes - Prior to Fedora 2.2, there were some attributes available in the foxml1.0 
				schema that were not available in the metslikefedora1 schema. Fedora 2.2 updated the metslikefedora1 
				schema to bring it in compliance with the set of attributes available in the foxml1.0 schema. In particular, 
				the metslikefedora1 schema now supports the attributes for VERSIONABLE, FORMAT_URI, and ALT_IDS on 
				datastreams. (see: www.fedora.info/definitions/1/0/api/mets-fedora-ext.xsd for details)
				</li>
				
				<li>Export Context Of "Archive" Implemented - Fedora 2.2 enhances the functionality of the API-M export 
				method by implementing the "archive" context. When exporting objects using the "archive" context, all 
				Managed Content and External Referenced Content datastreams will be embedded as base64-encoded binary 
				blobs in the exported object xml. This enables the ability to completely export an object and all of its 
				content in a single package that can easily be transported to a different repository with no dependencies 
				on the originating repository.
				</li>
				
				<li>JUnit Refactoring - The refactoring of the codebase necessary to make Fedora a standalone webapp 
				also required extensive refactoring of the JUnit tests. Fedora 2.2 includes streamlining and simplification 
				of the the JUnit tests that will make future code testing much easier.
				</li>	
			</ol>
		</li>
		
		<li><a id="bugs" name="bugs">Bug Fixes</a>
		<p>Refer to Fedora's <a href="http://www.fedora.info/bugzilla/">Bugzilla</a> 
		for full descriptions of the resolved bugs.</p>
			<ul>
				<li><a href="http://www.fedora.info/bugzilla/show_bug.cgi?id=30">Bug #030</a>: 
					Admin GUI--if datastreams entered first, can't bind disseminators</li>
				<li><a href="http://www.fedora.info/bugzilla/show_bug.cgi?id=124">Bug #124</a>: 
					API-A Lite search does not correctly handle international characters</li>
				<li><a href="http://www.fedora.info/bugzilla/show_bug.cgi?id=160">Bug #160</a>: 
					fedora-reload-policies.sh gives Usage error if run with no arguments</li>				
				<li><a href="http://www.fedora.info/bugzilla/show_bug.cgi?id=162">Bug #162</a>: 
					Problems running MacOS X with Java 1.4</li>
				<li><a href="http://www.fedora.info/bugzilla/show_bug.cgi?id=177">Bug #177</a>: 
					fedora-start.bat script: sleep is not a command</li>
				<li><a href="http://www.fedora.info/bugzilla/show_bug.cgi?id=179">Bug #179</a>: 
					PID namespace syntax: conflicting definitions</li>				
				<li><a href="http://www.fedora.info/bugzilla/show_bug.cgi?id=180">Bug #180</a>: 
					Too Many Open Files error message</li>
				<li><a href="http://www.fedora.info/bugzilla/show_bug.cgi?id=182">Bug #182</a>: 
					bMech Builder does not properly serialize multiple mimetypes in DSInputSpec</li>
				<li><a href="http://www.fedora.info/bugzilla/show_bug.cgi?id=183">Bug #183</a>: 
					Datastream ID beginning with a alphanumeric allowed by admin client</li>
				<li><a href="http://www.fedora.info/bugzilla/show_bug.cgi?id=184">Bug #184</a>: 
					Problem exporting objects as METS that were originally ingested in METS format</li>
				<li><a href="http://www.fedora.info/bugzilla/show_bug.cgi?id=185">Bug #185</a>: 
					Concurrent modification of same object can cause deletion</li>				
				<li><a href="http://www.fedora.info/bugzilla/show_bug.cgi?id=186">Bug #186</a>: 
					Double URL encoding for PIDs that contain escape characters</li>
				<li><a href="http://www.fedora.info/bugzilla/show_bug.cgi?id=191">Bug #191</a>: 
					MIMETYPE not properly xml-escaped in FOXML and METS serializations</li>
			</ul>
			<br/>					
		</li>
		
		<li><a id="issues" name="issues">Known Issues</a>
			<ul>
				<li>An early adopter of Fedora 2.1 reported anomalous 401 status 
					codes returned after a period of normal server use. This problem 
					is difficult to replicate, and the cause is unknown. A 
					workaround to this problem is to instruct Tomcat to use a 
					MemoryRealm instead of a JAASRealm. See
				<a href="http://www.fedora.info/bugzilla/show_bug.cgi?id=144">Bug 144</a> 
					for detailed instructions on applying this workaround.</li>
				<li>Ingest validation error when namespace for in-line XML 
					datastreams is in root element. Reported as
				<a href="http://www.fedora.info/bugzilla/show_bug.cgi?id=153">Bug 153</a>.</li>
				<li>fedora-reload-policies.sh gives usage error if run with no 
					arguments. Reported as
				<a href="http://www.fedora.info/bugzilla/show_bug.cgi?id=160">Bug 160</a></li>
			</ul>
		</li>
		
		<li><a id="install" name="features">Installation</a>
			<p>For instructions on installing and upgrading Fedora, please consult the 
			<a href="file:///C|/fedora-2.1.1-src/dist/userdocs/distribution/installation.html">Installation Guide</a>  and the 
			<a href="file:///C|/fedora-2.1.1-src/dist/userdocs/distribution/migration.html">Upgrade and Migrate Guide</a>.<br/>
			<br/>
			<i><b>NOTE</b></i>:&nbsp; In Fedora 2.2, the repository persistent 
			storage layer (i.e., LowLevelStorage) has been refactored into a 
			configurable module.&nbsp;&nbsp; This is to make it consistent with the 
			overall Fedora repository design where each piece of functionality 
			exists as a module in the Fedora server.&nbsp;&nbsp; Modules can easily 
			be replaced with alternative implementations of the core functionality.&nbsp;&nbsp; 
			For example, in the next release of Fedora will will ship two different 
			LowLevelStore implementations:&nbsp; the existing file system 
			implementation, and a Storage Resource Broker (SRB) implementation.&nbsp; If you are upgrading from a previous version of Fedora, you should 
		note that&nbsp; all storage-related server configuration parameters now 
			exist in the LowLevelStorage module section of the Fedora Configuration 
			file (fedora.fcfg).&nbsp;&nbsp; Previously, these parameters were 
			stand-alone parameters in the Fedora Configuration file.&nbsp; These 
			parameters are:&nbsp; <tt>object_store_base</tt>, <tt>datastream_store_base</tt>, 
		<tt>path_registry</tt>, <tt>path_algorithm</tt>, <tt>file_system</tt>, and 
		<tt>backslash_is_escape</tt>. </p>
			<p>
			<i><b>NOTE</b></i>:&nbsp; In Fedora 2.2, the Resource Index is OFF by 
			default.&nbsp; To turn it on, modify the Fedora Configuration file (fedora.fcfg) 
			so that the Resource Index module is configured to level 1 or 2.&nbsp; 
			(Default is level 0). </p>
		</li>
		<li><a name="history">Historic Release Notes</a></li>		
	</ol>
</div>
  
<div>
&nbsp;&nbsp;&nbsp;&nbsp; Release notes for previous versions of Fedora:  
	[<a href="http://fedora.info/download/2.1.1/userdocs/distribution/release-notes.html">2.1.1</a>], 
	[<a href="http://fedora.info/download/2.1/userdocs/distribution/release-notes.html">2.1</a>], 
	[<a href="http://fedora.info/download/2.1b/userdocs/distribution/release-notes.html">2.1b</a>], 
	[<a href="http://fedora.info/download/2.0/userdocs/distribution/release-notes.html">2.0</a>], 
[<a href="http://fedora.info/download/1.2.1/userdocs/distribution/release-notes.html">1.2.1</a>], 
	[<a href="http://fedora.info/download/1.2/userdocs/distribution/release-notes.html">1.2</a>], 
	[<a href="http://fedora.info/download/1.1.1/userdocs/distribution/release-notes.html">1.1.1</a>], 
	[<a href="http://fedora.info/download/1.1/userdocs/distribution/release-notes.html">1.1</a>], 
	[<a href="http://fedora.info/download/1.0/userdocs/distribution/release-notes.html">1.0</a>], 
	[<a href="http://fedora.info/download/1.0/userdocs/distribution/release-notes.html#d0e102">0.9</a>], 
	[<a href="http://fedora.info/download/1.0/userdocs/distribution/release-notes.html#d0e197">Beta 1</a>], 
	[<a href="http://fedora.info/download/1.0/userdocs/distribution/release-notes.html#d0e279">Alpha 1</a>]
	
</div>

<div id="footer">
	<div id="copyright"> Copyright &copy; 2006 Fedora Project </div>
	<div id="lastModified">
      Last Modified <script type="text/javascript">
      //<![CDATA[
            var cvsDate = "$Date$";
            var parts = cvsDate.split(" ");
            var modifiedDate = parts[1];
            document.write(modifiedDate);
      //]]>
      </script>
	</div>
</div>
</body>
</html>

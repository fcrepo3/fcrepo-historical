<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
  <title>Fedora Release Notes</title>
  <link rel="stylesheet" type="text/css" href="../docstyle.css" />
	<style>
<!--
 li.MsoNormal
	{mso-style-parent:"";
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";
	margin-left:0in; margin-right:0in; margin-top:0in}
-->
</style>
</head>

<body>
  <div id="header">
    <a href="../index.html" id="logo"></a>
    <div id="title">
      <h1>Fedora Release Notes</h1>

      <h2>Fedora Release 2.1b</h2>
    </div>
  </div>

  <div class="toc">
    <h2>Table of Contents</h2>

    <div class="tocbox">
      <ol>
        <li><a href="#rel2.1b">Release 2.1b - October 21, 2005</a></li>
		<li><a href="#rel2.0">Release 2.0 - January 31, 2005</a></li>

        <li><a href="#rel1.2.1">Release 1.2.1 (Bug Fix Release) -
        April 19, 2004</a></li>

        <li><a href="#rel1.2">Release 1.2 - December 15,
        2003</a></li>

        <li><a href="#rel1.1.1">Release 1.1.1 (Bug Fix Release) -
        September 5, 2003</a></li>

        <li><a href="#rel1.1">Release 1.1 (Bug Fix Release) -
        August 5, 2003</a></li>

        <li><a href="#rel1.0">Release 1.0 - May 16, 2003</a></li>

        <li><a href="#rel0.9">Release 0.9 - March 7, 2003</a></li>

        <li><a href="#relbeta1">Beta 1 - Dec 20, 2002</a></li>

        <li><a href="#relalpha1">Alpha 1 - Oct 31, 2002</a></li>
      </ol>
    	<hr>
		<p>&nbsp;</div>
  </div>

  <div class="sec1">
    <h1><a id="rel2.1b" name="rel2.1b">1. Release 2.1b (beta) - October 21, 2005</a></h1>
	<h2>&nbsp;</h2>
	<p>Fedora 2.1b is initially being released as beta, with a final release 
	soon to follow.&nbsp; This is a very significant release of Fedora since it 
	introduces the new Fedora security architecture (with pluggable 
	authentication and XACML-based policy enforcement), the Fedora Service 
	Framework, and many other new features.&nbsp; The introduction of the new 
	security architecture resulted in a significant amount of code refactoring, 
	therefore, Fedora 2.1b has been tested with an extensive suite of new JUnit 
	tests.&nbsp; Some of the system documentation is still evolving.&nbsp; Most 
	documentation is complete, but several documents are still being enhanced 
	and improved.&nbsp; To identify documents that will continue to evolve, 
	please look for an icon that says &quot;Draft Doc&quot; under the document title.&nbsp; 
	As revisions are made, we will publish the most updated versions of these 
	documents on the Fedora web site (<a href="http://www.fedora.info">www.fedora.info</a>) 
	and send alerts to the Fedora Users mail list.&nbsp;&nbsp;&nbsp; This 
	release of Fedora was also tested against a large production testbed 
	collection, where bulk loading was performed on for a collection of 1million 
	digital objects with approximately 75M&nbsp; triples in the Kowari-based 
	Resource Index.&nbsp;&nbsp;&nbsp; </p>
	<p>Also, coinciding with this release is the publication of the
	<a href="http://www.fedora.info/tools">Community-Developed Tools</a> page on 
	the Fedora web site (see: <a href="http://www.fedora.info/tools">
	www.fedora.info/tools</a>).&nbsp;&nbsp; This is a clearinghouse for 
	community-developed, open-source applications, tools, and services that work 
	with Fedora repositories.&nbsp;&nbsp; There are already many tools that are 
	available, so check it out!</p>
	<p>&nbsp;</p>
	<h2>A. Migrating from Fedora 2.0</h2>

      <p>The move from Fedora 2.0 to Fedora 2.1b is quite simple and does not 
		require reloading of your repository.&nbsp; If you are upgrading from Fedora 
		2.0 to Fedora 2.1b
      follow the steps below.&nbsp; More detail on these steps is found in the 
		Fedora <a href="installation.html">Installation Guide</a> and the
		<a href="migration.html">Upgrade and Migrate Guide</a>.&nbsp;&nbsp; If 
		you are starting from a release prior to Fedora 2.0, consult the Fedora 
		2.0 release notes and the Upgrade and Migration Guide for instructions 
		on how to migrate to Fedora 2.0 before upgrading to Fedora 2.1b.</p>
	<p>&nbsp;</p>
	<p><b>NOTE: </b>&nbsp;Please be aware the base URLs for the Fedora SOAP 
	interfaces have changed in Fedora 2.1b.&nbsp; The path names for API-A and 
	API-M have changed to facilitate better security management.&nbsp;&nbsp; The 
	new path names can be seen in the WSDL files for API-A and API-M and in the 
	Fedora Tomcat web.xml file.&nbsp;&nbsp;&nbsp;
	<span class="906045116-26102005"><font face="Arial" size="2">In terms of 
	impact on users, this change will only affect developers who have written 
	custom SOAP clients or middleware for Fedora.&nbsp; If you have written your own 
	custom SOAP connector for Fedora,&nbsp; be sure to reference the new path names 
	within the SOAP base URLs</font></span>:</p>
	<ul>
		<li><b>API-A Base URL</b> (assume your host:port):&nbsp; http://localhost:8080/<b>fedora/services/access</b>&nbsp; 
	(formerly the path was /fedora/access/soap)</li>
		<li><b>API-M Base URL</b> (assume your host:port):&nbsp; http://localhost:8080/<b>fedora/services/management
		</b>&nbsp;(formerly&nbsp; the path was /fedora/management/soap)</li>
	</ul>
	<h2>&nbsp;</h2>
	<h2><b>B. New Features</b></h2>
	<p class="MsoNormal">&nbsp;</p>
	<ol style="margin-top: 0in; margin-bottom: 0in" start="1" type="1">
		<li class="MsoNormal"><font face="Arial" style="font-size: 9pt"><b>
		<a name="rel2.1b.features.ecl"></a>New Open-Source License (ECL)</b><br>
		For version 2.1 we have decided to move from Mozilla Public License 1.1 (MPL) 
		to the Educational Community License 1.0 (ECL). The main difference 
		between the two licenses is that the ECL imposes no compulsion to 
		contribute changes to source code. Our experience has been that 
		consumers of our code, both academic and commercial, see it as in their 
		interest to contribute code back anyway. In several cases, this 
		requirement has been a barrier for adoption of Fedora.&nbsp;&nbsp; Note 
		that this license makes the software openly usable by anyone for any 
		purpose. The only requirement imposed is that anyone using our source 
		code, making changes and distributing the changed source, is required to 
		make it clear that the new distribution is different and to describe the 
		changes made.&nbsp; Also note that this change only applies to version 
		2.1. All earlier versions continue to be covered by their original 
		license.<br>
&nbsp;</font></li>
		<li class="MsoNormal"><font face="Arial" style="font-size: 9pt"><b>
		<a name="rel2.1b.features.configs"></a>New Security Architecture ? Four 
		Security Configuration Options for a Repository<br>
		</b>Fedora 2.1b introduces a configurable security architecture, that 
		provides options for SSL and authentication at the Fedora web service 
		API level.&nbsp;&nbsp; There are
		<a href="../server/security/securingrepo.html#CONFIG">four base security configurations</a> provided with the Fedora 2.1b 
    server distribution: (1) "ssl-authenticate-apim" configuration which uses 
		SSL and enables authentication for API-M, (2) "ssl-authenticate-all" configuration 
		which uses SSL and enables authentication for both API-M and API-A, 
    (3) "no-ssl-authenticate-apim" configuration which does not use SSL but 
		still enables authentication for API-M, and (4) "no-ssl-authenticate-all" configuration 
		which does not use SSL, but still enables authentication for API-M and 
		API-A. Unlike 
    Fedora 2.0, there is no longer a "default" configuration. Before starting 
    the Fedora server, you must run the new server setup utility (<a href="../server/cmd-line/index.html#setup">fedora-setup</a>) to select a base security 
    configuration that will initialize the servers security configuration.&nbsp;&nbsp; 
    After setup, you can customize that base configuration as needed.&nbsp;&nbsp; 
		The document entitled &quot;<a href="../server/security/securingrepo.html">Securing 
		Your Fedora Repository&quot;</a> describes the server setup process and the nature of the different 
    base security configurations.<br>
&nbsp;</font></li>
		<li class="MsoNormal"><font face="Arial" style="font-size: 9pt">
		<a name="rel2.1b.features.authn"></a><b>New Security Architecture ? 
		Authentication<br>
		</b>The Fedora repository server is built on top of Apache's Tomcat, and authentication is channeled through the normal Tomcat mechanisms 
		(e.g., HTTP Basic Authentication, HTTPS Client Authentication).&nbsp; 
		When you select one of <a href="#rel2.1b.features.configs">Fedora's four 
		security configurations</a>, an appropriate rendition of the Tomcat 
		configuration file (web.xml) will be copied into the Fedora Tomcat 
		configuration directory.&nbsp; This configuration file will set up 
		authentication for Fedora web services (via &lt;login-config&gt;&nbsp; and 
		&lt;security-constraint&gt; elements)<font style="font-size: 9pt">.</font>&nbsp; 
		Under the hood, Tomcat comes with different <b>Realms,</b> where a realm 
		is defined as a &quot;database&quot; of usernames and passwords that identify 
		valid users of a web application (or set of web applications), plus an 
		enumeration of the list of roles associated with each valid user&nbsp; 
		[see: <a href="http://tomcat.apache.org/tomcat-5.0-doc/realm-howto.html">
		Apache Tomcat Realms</a>].&nbsp; </font>
		<font style="font-size: 9pt" face="Arial">Tomcat defines a Java 
		interface (org.apache.catalina.Realm) that can be implemented by &quot;plug 
		in&quot; components to &quot;connect&quot; a servlet container to some existing 
		authentication database<font style="font-size: 9pt">.&nbsp;&nbsp; </font>
		Fedora 2.1b comes pre-configured with a customized JAAS Realm whose 
		purpose is to multiplex several authentication sources.&nbsp;&nbsp; By 
		default, Fedora's JAAS multiplexing Realm in configured to deal with a 
		simple user/password file.&nbsp; There is also support for acquiring 
		user attributes from an LDAP source.&nbsp; Authentication methods other than the two described here are possible through Tomcat, but require configuring other Realm or Login Modules obtained separately from the Apache Project or third parties,
	or writing your own custom Realms or LoginModules.&nbsp; Additional user attributes can be merged with those which Tomcat provides by 
	configuring a site-written servlet filter, which calls the Fedora API.&nbsp;&nbsp; For more details refer to the documents entitled 
		&quot;<a href="../server/security/securingrepo.html">Securing Your Fedora 
		Repository </a>&quot; and &quot;<a href="../server/security/authentication-user-attributes.html">Fedora Security Architecture - Authentication</a>.&quot;<b><br>
		</b><br>
&nbsp;</font></li>
		<li class="MsoNormal"><font face="Arial" style="font-size: 9pt"><b>
		<a name="rel2.1b.features.xacml"></a>New Security Architecture - XACML 
		Policy Enforcement</b><br>
		A major feature of the new Fedora security architecture is the 
		introduction of the
		<a href="http://docs.oasis-open.org/xacml/access_control-xacml-2_0-core-spec-cd-04.pdf">
		eXtensible Access Control Markup Language</a> (XACML) and an XACML-based 
		policy enforcement module.&nbsp;&nbsp;&nbsp; Developed by the OASIS 
		Consortium, XACML is an XML-based markup language to encode access 
		control policies.&nbsp; The policy language is flexible and enables the 
		specification of fine-grained, machine-readable policies that can be 
		used to control access to Fedora web services, Fedora digital objects, 
		datastreams, disseminations, and more.&nbsp;&nbsp;&nbsp; Since a policy 
		is only worth its salt if it can be enforced, Fedora 2.1b introduces a 
		new Authorization module implemented as part of the core Fedora 
		repository service.&nbsp;&nbsp;&nbsp; The Authorization module is built 
		upon the <a href="http://sunxacml.sourceforge.net">Sun XACML engine</a>.&nbsp; 
		Each XACML policy defines: (1) a &quot;target&quot; describes what the policy 
		applies to (by referring to attributes of users, operations, objects, 
		datastreams, dates, and more), and (2) one or more &quot;rules&quot; to permit or 
		deny access.&nbsp; Version 2.1b provides a Fedora-specific policy 
		vocabulary for referring Fedora operations and Fedora-specific entities 
		within in XACML policies.&nbsp;&nbsp; For a description of how the 
		policy enforcment module is implemented, see the document entitled &quot;<a href="../server/security/AuthorizationXACML.htm">Fedora 
		Authorization with XACML Policy Enforcement</a>.&quot;&nbsp; Regarding 
		policies, Fedora supports both repository-wide policies (that specify 
		broad access controls that apply to the entire repository), and 
		object-specific policies (that specify rules for a single object, and 
		can even be stored within the object in a special datastream).&nbsp; 
		Fedora 2.1 comes out-of-the-box with a set of
		<a href="../server/security/AuthorizationXACML.htm#DEFAULT">default 
		repository-wide policies</a> that establish baseline access controls 
		that are equivalent to what was provided in Fedora 2.0.&nbsp;&nbsp; 
		These default policies restrict access to the Fedora management web 
		service (API-M) to only the Fedora administrator, permit open access to 
		the Fedora access web service (API-A), and establish some other basic 
		controls (e.g., allow access to API-M only from localhost; restrict 
		policy management to administrator).&nbsp;&nbsp; In addition to the 
		default policies (which can be modified), any number of custom XACML 
		policies can be written and loaded into Fedora.&nbsp;&nbsp; For 
		assistance in creating new policies for your repository and for your 
		objects, see the &quot;<a href="../server/security/XACMLPolicyGuide.htm">Fedora 
		XACML Policy Writing Guide</a>.&quot; <br>
&nbsp;</font></li>
		<li class="MsoNormal">
		<font face="Arial" style="font-size: 9pt; font-weight: 700">
		<a name="rel2.1b.features.reload"></a>Fedora Policy Reload Utility<br>
		</font>
		<font face="Arial" style="font-size: 9pt; ">
		The
		<a href="../server/cmd-line/index.html#reload">Fedora Policy Reload 
		Utility</a> (&quot;fedora-reload-policies&quot; on the command line) provides an 
		easy way to load new or modified policies into Fedora without having to 
		restart the Fedora server.&nbsp;&nbsp; With the addition of 
		the XACML-based Policy Enforcement module, there is the opportunity to 
		modify existing policies or add new policies over time.&nbsp; All 
		&quot;active&quot; policies must be stored in the active policies storage 
		locations configured for the Authorization module in the Fedora server 
		configuration file (fedora.fcfg).&nbsp;&nbsp; Once policies are copied 
		into one of these &quot;active&quot; policy directories, the Fedora server can 
		locate them and load them into memory for policy enforcement.&nbsp;&nbsp; 
		Every time the Fedora server is started policies are loaded from the 
		active policy directories.&nbsp; &nbsp; It 
		should be noted that Fedora supports both repository-wide policies and 
		object specific policies.&nbsp; The Policy Reload Utility will load only 
		repository-wide policies.&nbsp; For performance benefits, 
		object-specific policies are loaded on demand when the repository 
		receives a request for that particular object.</font><font face="Arial" style="font-size: 9pt; font-weight: 700"><br>
&nbsp;</font></li>
		<li class="MsoNormal">
		<font face="Arial" style="font-size: 9pt; font-weight: 700">
		<a name="rel2.1b.features.policyvalid"></a>Fedora Policy Validation 
		Utility<br>
		</font>
		<font face="Arial" style="font-size: 9pt; ">
		To support authoring and maintenance of XACML policyies for Fedora, the
		<a href="../server/cmd-line/index.html#validate">policy validation 
		utility</a> (i.e., &quot;validate-policy&nbsp; <i>{policyfile name}</i>&quot;on 
		the command line) is provided with Fedora 2.1b.&nbsp; This utility will 
		validate an XACML policy against the XML schema defined by Sun for XACML.&nbsp; 
		It is recommended that this utility be invoked on all policies before 
		they are moved to the active policies storage location </font>
		<font style="font-size: 9pt" face="Arial">to prevent errors when the 
		Fedora server attempts to load XACML policies for use by the Fedora 
		Authorization module. </font>
		<font face="Arial" style="font-size: 9pt; font-weight: 700">
		<br>
&nbsp;</font></li>
		<li class="MsoNormal"><font face="Arial" style="font-size: 9pt"><b>
		<a name="rel2.1b.features.besecurity"></a>New Security Architecture ? 
		Backend Security for Service call-backs<br>
		</b>Backend security is applicable to repositories that contain digital 
		object Disseminators that call upon external web services - <i>and where 
		a high level of security is desired</i>.&nbsp;&nbsp; Repositories that 
		do not use such external dissemination services do not require any 
		custom configuration of this new security feature.&nbsp;&nbsp; </font>
		<font style="font-size: 9pt" face="Arial">The term "backend services" is used to describe the set of web services 
		that are used by Fedora Disseminators.&nbsp;&nbsp; Disseminators are 
		optional components in the Fedora digital object model that allow for 
		service-based views of the digital object.&nbsp; A Disseminator points 
		to a &quot;Behavior Mechanism&quot; which contains a WSDL service description that 
		is used by the Fedora repository service to call upon an external 
		supporting service at runtime.&nbsp;&nbsp; These external services that 
		Fedora calls upon are referred to as &quot;backend services.&quot;&nbsp;&nbsp; 
		When Fedora makes a call to a backend service, it will typically send a 
		reference to a datastream (stored in a digital object in the repository) 
		that Fedora wants the external service to process in some way (e.g., a 
		transformation of the datastream content).&nbsp;&nbsp; When a backend 
		service receives such a request from Fedora, it must call back to Fedora 
		to get the datastream content that it is required to process.&nbsp;&nbsp; 
		This is where backend security comes in.&nbsp; If the Fedora repository 
		is set up in a secure manner (SSL and authentication), a backend service 
		will be treated like any other incoming client to Fedora.&nbsp; The 
		service must make calls to Fedora in a secure manner, and it may need to 
		provide credentials to Fedora.&nbsp;&nbsp; To support the secure 
		interaction of backend services with a secure Fedora repository, Fedora 
		2.1 provides a the &quot;<a href="../server/security/beSecurityConfig.html#CONFIGTOOL">beSecurity 
		Configuration Tool</a>&quot; for registering each backend service and 
		specifying how it should call back to Fedora.&nbsp; For more information 
		on configuring backend security refer to the document entitled &quot;<a href="../server/security/beSecurityConfig.html">Backend 
		Services Security Configuration</a>.&quot;<font style="font-size: 9pt">
		</font><br>
&nbsp;</font></li>
		<li class="MsoNormal"><font face="Arial" style="font-size: 9pt"><b>
		<a name="rel2.1b.features.framework"></a>Fedora Service Framework<br>
		</b></font><font style="font-size: 9pt" face="Arial">As of Fedora 2.1b, 
		the<a href="../server/features/serviceframework.htm"> Fedora Service 
		Framework</a> is being introduced to facilitate the integration of new 
		services with the Fedora repository. <font style="font-size: 9pt">&nbsp; 
		The framework takes a service-oriented architecture approach to building 
		new functionality around a Fedora repository.&nbsp; While the Fedora 
		repository, itself, exposes its functionality as a set of web service 
		interfaces, all of these interfaces belong to the Fedora web application 
		that runs in its own Tomcat&nbsp;&nbsp; The new Fedora Service Framework 
		allows new services to be built around the core repository - <i>as 
		stand-alone web applications that run independently of the Fedora 
		repository.</i>&nbsp;&nbsp; While Fedora repository functionality can 
		still be extended with new modules, the intent is to keep the repository 
		service focused on the core functions of a repository.&nbsp;&nbsp; Yet, 
		there are many other services that are beneficial companions to a 
		repository, such as specialized ingest services, workflow services, 
		preservation services, and many others.&nbsp;&nbsp; These are the kinds 
		of services that the framework is intended to support.&nbsp;&nbsp; There 
		are two main benefits to the service framework approach:&nbsp; (1) it 
		allows new functionality to be added as</font> atomic, modular services 
		that can interact with Fedora repositories, yet not be part of the 
		repository, (2) it makes co-development of new services for Fedora 
		easier since each service can be independently developed and plugged&nbsp; 
		into the framework.&nbsp;&nbsp; The Fedora development team has 
		developed an initial set of services (Directory Ingest and PROAI 
		described below), and will continue to develop new services over the 
		coarse of Fedora Phase 2 (205-2007), especially services for workflow, 
		preservation, and search.&nbsp;&nbsp; New services will be part of the 
		main Fedora distribution and will be kept up to date with new versions 
		of the core Fedora repository distribution.&nbsp;&nbsp; Members of the 
		Fedora community will be collaborating on the development of services 
		and will contributed back to the Fedora Project.&nbsp;&nbsp;&nbsp; 
		Further documentation will be provided to establish guidelines on how 
		services should be designed to effectively plug into the framework.&nbsp; 
		In the mean time, developers of new services can follow the design 
		patterns of the Directory Ingest and PROAI services. <br>
&nbsp;</font></li>
		<li class="MsoNormal">
		<font face="Arial" style="font-size: 9pt; font-weight: 700">
		<a name="rel2.1b.features.diringest"></a>New Directory Ingest Service (DirIngest)<br>
		</font><font style="font-size: 9pt" face="Arial">New as part of the 
		Fedora Service Framework, is the new Directory Ingest Service, which is 
		a stand-alone web 
		service application that interacts with a Fedora repository to provide 
		for ingesting directories or archives or files into a Fedora repository.&nbsp; 
		The service receives a zip/jar file of files in directory hierarchy 
		(i.e., a file archive), including a METS-based manifest file.&nbsp; The 
		Directory Ingest Service will receive the archive, open it up, create a 
		digital object in the repository for every file and directory, and 
		populate the RELS-EXT datastream 
			preserve the relationships between files and directories as 
			represented in the input archive.</font><br>
&nbsp;</li>
		<li class="MsoNormal">
		<font face="Arial" style="font-size: 9pt; font-weight: 700">
		<a name="rel2.1b.features.proai"></a>New OAI-Provider Service (PROAI)<br>
		</font><font style="font-size: 9pt" face="Arial">New as part of the 
		Fedora Service Framework, is the new Fedora OAI Provider Service, which 
		is a stand-alone web 
		service application that is a highly configurable OAI provider.&nbsp;&nbsp; 
			The PROAI service can be set up to harvest any type of datastream or 
			dissemination of digital objects in a Fedora repository.&nbsp; It also 
			supports OAI sets.&nbsp; (Note: PROAI can be used outside the 
			context of Fedora too, by writing a custom adapter.)&nbsp; Note also 
		that the simple OAI provider interface on the core Fedora repository is 
		still available.&nbsp;&nbsp; The new OAI service provides much more 
		functionality and better performance.</font><font face="Arial" style="font-size: 9pt; font-weight: 700"><br>&nbsp;</font></li>
		<li class="MsoNormal">
		<font face="Arial" style="font-size: 9pt; font-weight: 700">
		<a name="rel2.1b.features.ri"></a>Resource Index<br>
		</font>
		<font face="Arial" style="font-size: 9pt; ">
		The Resource Index has undergone significant testing and a number of 
		bugs have been fixed (see Bug Fixes below).&nbsp; Most notably, a memory 
		leak was discovered in the Kowari triplestore software that underlies 
		the Resource Index that was the cause of reported Resource Index 
		corruption problems.&nbsp; (It should be noted that corrupted Resource 
		Index can be restored using the Fedora Rebuilder Utility that was 
		pre-release to those having the problem in Fedora 2.0.&nbsp; The 
		Rebuilder is now part of Fedora 2.1b.)&nbsp;&nbsp; There have been minor 
		changes to the Resource Index data model.&nbsp; This should be 
		transparent, unless you have written applications or middleware with 
		static queries to the Resource Index, in which case you may have to make 
		modifications to those queries.&nbsp; See the Resource Index Guide for 
		more information.&nbsp; Also with Fedora 2.1b, a new indexing level is 
		introduced for the resource index.&nbsp; This new level (Level 3), will 
		index parameterized disseminations as concrete &quot;representations&quot; of 
		digital objects, whenever there is a fixed domain of values for method 
		parameters.&nbsp; This is explained in detail in the Resource Index 
		Guide.&nbsp; Also, as explained in below, the RELS-EXT datastream can be 
		used more freely now, beyond just the expression of object-to-object 
		relationships, making the Resource Index more useful for asserting 
		community-specific properties about objects via RDF.</font><font face="Arial" style="font-size: 9pt; font-weight: 700"><br>&nbsp;</font></li>
		<li class="MsoNormal">
		<font face="Arial" style="font-size: 9pt; font-weight: 700">
		<a name="rel2.1b.features.relsext"></a>Relaxation of REL-EXT datastream 
		constraints<br></font><font face="Arial" style="font-size: 9pt">In Fedora 2.0, the 
		Relationships datastream in an object (identified as &quot;RELS-EXT&quot;) was 
		reserved for assertions of object-to-object relationships.&nbsp;&nbsp; 
		Now, in Fedora 2.1b, the RELS-EXT datastream can be used as a means of 
		creating extensible properties for digital objects (i.e., properties not 
		defined in the FOXML schema).&nbsp; The benefit of putting such 
		properties in the RELS-EXT datastream is that the are automatically 
		indexed in the Resource Index, and thus are searchable via the RISearch 
		interface.&nbsp; Previously, the RELS-EXT datastream was validated by 
		Fedora to ensure that every assertion was of the form&nbsp; &quot;<i>PID</i> 
		-- <i>relationship</i> -- <i>anotherPID</i>&quot;</font><font face="Arial" style="font-size: 9pt; font-weight: 700">&nbsp;
		</font><font face="Arial" style="font-size: 9pt">where the subject was 
		the PID of the object containing the assertion, the predicate a 
		relationship, and the object of the predicate was the PID of another 
		Fedora object.&nbsp;&nbsp; New in Fedora 2.1b is that validation of the 
		RELS-EXT datastream has been relaxed so that it can be used to assert 
		other kinds of custom properties about the digital object.&nbsp;&nbsp;&nbsp; 
		Specifically, the object of the predicate of an assertion does NOT have 
		to be another Fedora PID;&nbsp; it can be any URI or literal value.&nbsp;&nbsp; 
		Thus RELS-EXT can be used to associate properties defined in any 
		ontology with a Fedora digital object.&nbsp; The example below shows the 
		content of a RELS-EXT datastream with three assertions about the Fedora 
		object &quot;demo:99.&quot;&nbsp;&nbsp; The assertions are: (1) a object-to-object 
		relationship defined in the Fedora ontology namespace that says 
		&quot;demo:99&quot; is member of the collection object identified by &quot;demo:c1&quot;&nbsp; 
		(2) <i><b>a relationship (myns:isPartOf) defined in custom namespace 
		that says &quot;demo:99&quot; is part of a non-Fedora entity identified by 
		&quot;doi:10.123/456<font style="font-size: 9pt">&quot; </font></b></i>and (3) 
		<i><b>an object property (myns:owner) defined in custom namespace that has 
		a value of&nbsp; &quot;Jane Doe.&quot;</b></i>&nbsp;&nbsp;&nbsp; The second and 
		third assertions are examples of what is newly supported in Fedora 2.1b 
		that was not previously supported.&nbsp;&nbsp; The second assertion is 
		in the form &quot;<i>PID</i> -- <i>someRelationshipName</i> -- <i>someURI</i>&quot; 
		and the third assertion is in the form of&nbsp; &quot;<i>PID</i> -- <i>somePropertyName</i> -- 
		<i>someLiteralValue.</i>&quot;<br><br>&nbsp;</font><div class="code">
			<pre>&lt;rdf:RDF&nbsp;xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;&nbsp;
 xmlns:rdfs=&quot;http://www.w3.org/2000/01/rdf-schema#&quot;
&nbsp;xmlns:fedora=&quot;info:fedora/fedora-system:def/relations-external#&quot;
&nbsp;xmlns:myns=&quot;http://www.nsdl.org/ontologies/relationships#&quot;&gt; 

&nbsp;&lt;rdf:Description rdf:about=&quot;info:fedora/demo:99&quot;&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;fedora:isMemberOfCollection rdf:resource=&quot;info:fedora/demo:c1&quot;/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;<b>&lt;myns:isPartOf rdf:resource=&quot;doi:10.123/456&quot;/&gt;</b>
&nbsp;&nbsp;&nbsp;&nbsp;<b>&lt;myns:owner&gt;Jane Doe&lt;myns:owner/&gt;</b>
&nbsp;&lt;/rdf:Description&gt;

&lt;/rdf:RDF&gt; </pre></div>
		<p><font face="Arial" style="font-size: 9pt; font-weight: 700"><br>&nbsp;</font></li>
		<li class="MsoNormal">
		<font face="Arial" style="font-size: 9pt; font-weight: 700">
		<a name="rel2.1b.features.rebuild"></a>Rebuild Repository Utility<br>
		</font><font style="font-size: 9pt" face="Arial">The Fedora Rebuild 
		utility is an interactive utility that can be used when the Fedora repository is somehow corrupted.&nbsp; 
		The utility rebuilds the repository by crawling the repository storage 
		directories where the FOXML digital objects reside.&nbsp;&nbsp; The 
		utility can rebuild the SQL database (registries, search tables, and 
		other tables), the Resource Index, or both.&nbsp;&nbsp;&nbsp; This is 
		useful for a number of purposes, such as migrating from Fedora 2.0 to 
		Fedora 2.1b, and also if a database or index becomes corrupted.&nbsp;&nbsp;  Additionally, if the 
	Fedora administrator want to change from using the McKoi database to using the MySQL database, 
	(or from MySQL to McKoi) the existing database can be purged, the fedora configuration file (fedora.fcfg) 
	can be edited, and the fedora-rebuild utility can then be run to correctly populate the tables in the new
	database system.&nbsp;&nbsp; Similarly, the fedora Rebuild Utility can 
	also be useful for rebuilding the Kowari triplestore of the Resource-Index if 
		a problem or corruption occurs.<br>
&nbsp;</font></li>
		<li><font face="Arial" style="font-size: 9pt; font-weight: 700">
		<a name="rel2.1b.features.cmd"></a>Command-line utility syntax changes<br>
		</font><font face="Arial" style="font-size: 9pt; ">With the introduction 
		of the new security architecture for Fedora, the repository can be 
		configured for SSL or non-SSL.&nbsp; Therefore, the syntax for Fedora 
		client command line utilities has been slightly changed to accomodate 
		the a parameter for the protocol that will be used when calling Fedora.&nbsp; 
		Refer the the <a href="../client/cmd-line/index.html">Client Command Line Utilities</a> 
		Guide for the new syntax for each command line utiltiy.</font><font face="Arial" style="font-size: 9pt; font-weight: 700"><br>&nbsp;</font></li>
		<li class="MsoNormal">
		<font face="Arial" style="font-size: 9pt; font-weight: 700">
		<a name="rel2.1b.features.batch"></a>Batch Utility Enhancements:&nbsp;&nbsp; 
		<br></font><font face="Arial" style="font-size: 9pt">You can now use either 
		a FOXML or METS template file when building objects with the Fedora 
		batch utility.&nbsp; The batch utility now detects the format of the template 
		file and then generates objects based on the format of the template file 
		so you can create either METS or FOXML&nbsp; objects now.&nbsp;<br>
&nbsp;</font></li>
		<li class="MsoNormal">
		<font face="Arial" style="font-size: 9pt; font-weight: 700">
		<a name="rel2.1b.features.log4j"></a>Improved logging using log4j <br>
		</font><font face="Arial" style="font-size: 9pt; ">Fedora server logging has been standardized to use log4j.&nbsp;&nbsp; In 
		addition to the general repository server log (created each time the 
		Fedora server is started and named with a date-time stamp), there are 
		now separate logs for Resource Index activity (ri.log) and for 
		transactions sent to the Kowari triplestore that underlies the Resource 
		Index (see: trippi.log and replay.log).&nbsp;&nbsp; With the log4j 
		logging in place, the next release of Fedora will include a refactoring 
		of log messages to eliminate excessive log messaging, and to better 
		categorize the severity levels of existing log postings.&nbsp; </font>
		<font face="Arial" style="font-size: 9pt; font-weight: 700"><br>&nbsp;</font></li>
		<li class="MsoNormal">
		<font face="Arial" style="font-size: 9pt; font-weight: 700">
		<a name="rel2.1b.features.fedoraclient"></a>FedoraClient utility class 
		for building new clients<br>&nbsp;</font></li>
		<li class="MsoNormal">
		<font face="Arial" style="font-size: 9pt; font-weight: 700">
		<a name="rel2.1b.features.perf"></a>Performance and Scale testing<br>
		</font><font style="font-size: 9pt" face="Arial">Bulk loading was performed on the NSDL repository, which provided 
		a testbed of 1 million digital objects with approximately 75M&nbsp; 
		triples in the Kowari-based Resource Index.&nbsp; These tests were run 
		on a 64 bit architecture due to heavy use of the Resource Index and 
		Kowari memory requirements.&nbsp; These tests were run by NSDL 
		middleware that heavily exercised the repository in terms of 
		adding/modifying/deleting large numbers of objects.&nbsp;&nbsp; The 
		results of these tests will be published soon on 
		<a href="http://www.fedora.info">www.fedora.info</a>.&nbsp;</font>
		<font face="Arial" style="font-size: 9pt; font-weight: 700">
		<br>&nbsp;</font></li>
		<li class="MsoNormal">
		<font face="Arial" style="font-size: 9pt">
		<span style="font-weight: 700">
		<a name="rel2.1b.features.tools"></a>New Tools Page for Software 
		Contributions by Community<br>
		</span>A new page now exists on the Fedora web site (<a href="http://www.fedora.info">www.fedora.info</a>) 
		for downloading community-developed, open-source tools, applications, 
		services that work with Fedora.&nbsp; Check it out!</font><br>&nbsp;</li>
	</ol>
	<p class="MsoNormal">&nbsp;</p>
	<h2>C.&nbsp; Bug Fixes</h2>
	<p><font style="font-size: 9pt" face="Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
	Refer to Fedora's <a href="http://www.fedora.info/bugzilla/">Bugzilla</a> 
	for full descriptions of the resolved bugs. </font></p>
	<p>&nbsp;</p>
	<ol style="margin-top: 0in; margin-bottom: 0in" start="1" type="1">
		<li class="MsoNormal"><font style="font-size: 9pt" face="Arial"><b>
		Bugzilla #68:&nbsp; Inconsistent treatment of null vs. empty space on 
		API-M method parameter values. </b>&nbsp; <br>
		Wthin the operations modifyObject, modifyDatastream, and 
		modifyDisseminator on API-M null parameter values were not handled 
		consistently.&nbsp; Now a null parameter value means that a change will 
		be made to the object/datastream/disseminator property that the null 
		parameter value is targeting.&nbsp;&nbsp; An empty string parameter 
		value means that property will be changed to an empty string.&nbsp; Any 
		non-empty string parameter value means that property will be changed to 
		the specified parameter value.<br>
&nbsp;</font></li>
		<li class="MsoNormal">
		<font style="font-size: 9pt; font-weight: 700" face="Arial">Bugzilla 
		#87-88&nbsp; Minor display issues on Fedora web site.&nbsp; </font>
		<font style="font-size: 9pt" face="Arial">These are fixed on
		<a href="http://www.fedora.info">www.fedora.info</a>.</font><font style="font-size: 9pt; font-weight: 700" face="Arial"><br>
&nbsp;</font></li>
		<li class="MsoNormal"><font style="font-size: 9pt" face="Arial"><b>
		Bugzilla #89: Classpath error when running fedora-stop.bat. </b>&nbsp;<br>
		This was traced to servlet-api.jar not being found on the classpath.&nbsp; 
		Specifically, TC_COMMON is referenced at line 11 but not defined till 
		line 15.&nbsp; The fix was to move line 15 of&nbsp; fedora-stop.bat to 
		be after line 8 and before line 11. <br>
&nbsp;</font></li>
		<li class="MsoNormal"><font style="font-size: 9pt" face="Arial"><b>
		Bugzilla #93:&nbsp; Fedora Tutorial has broken dissemination example.
		</b>&nbsp;<br>
		In <a href="../tutorials/tutorial2.pdf">Fedora Tutorial 2</a> Example 5 
		there is an example image object (demo:800) with disseminators using the 
		BDef demo:600.&nbsp; The greyscale and and resize disseminations are now 
		fixed.<br>
&nbsp;</font></li>
		<li class="MsoNormal"><font style="font-size: 9pt" face="Arial"><b>
		Bugzilla #97-98:&nbsp; Command line scripts break if JAVA_HOME has 
		spaces.</b>&nbsp; This problem was reported on fedora-stop.bat and 
		fedora-ingest-demos.&nbsp; This has been fixed.<br>
&nbsp;</font></li>
		<li class="MsoNormal"><font style="font-size: 9pt" face="Arial"><b>
		Bugzilla #99:&nbsp; The API-A listDatastreams operation via SOAP 
		returning incomplete list. </b>&nbsp;<br>
		When running listDatastreams via API-A (SOAP), the list is incomplete, 
		but when running against API-A-LITE (REST), it works fine.&nbsp; The 
		incomplete list consists only of datastreams that are used by 
		disseminators. cause was getting a &quot;cached&quot; context in 
		FedoraAPIASOAPHTTPImpl.java.&nbsp; The fix was to use a non-cached 
		context so the full, acurate list of datastreams is returned.<br>
&nbsp;</font></li>
		<li class="MsoNormal"><font style="font-size: 9pt" face="Arial"><b>
		Bugzilla #100:&nbsp; Fedora debug script required upgrading.</b>&nbsp; 
		The fedora-debug.bat was not previously updated to be compliant with 
		Fedora 2.0, which has now been fixed.<br>
&nbsp;</font></li>
		<li class="MsoNormal"><font style="font-size: 9pt" face="Arial"><b>
		Bugzilla #101 and 104: MySQL scripts fail when MySQL path includes 
		spaces. </b>&nbsp;<br>
		The scripts affected were mysql-config.bat&nbsp; and mysql-drop.bat.&nbsp; 
		The fix is that If the MySQL path contained spaces, enclose the path in 
		double quotes and the script will handle the path correctly (e.g., 
		mysql-config.bat &quot;C:Program files\MySQL\MySQL server 4.1&quot;).<br>
&nbsp;</font></li>
		<li class="MsoNormal"><font style="font-size: 9pt" face="Arial"><b>
		Bugzilla #105-106:&nbsp; The MySQL script &quot;mysql-drop-db.bat&quot; does not 
		work with MySQL 4.1.</b>&nbsp; <br>
		This was a bug in mysql-drop-db.bat and has been fixed in cvs as of 
		2/18/2005. The optional mysql41_flag argument has been added to the 
		script. When specified, the script will set the default character set to 
		utf8 and collation to utf8_bin for the fedora database when it is 
		recreated. This script is primarily a convenience utility when testing 
		and you need to drop and recreate the Fedora SQL database.&nbsp; Refer 
		You can accomplish the same tasks manually using the MySQL commands.&nbsp; 
		Refer to <a href="http://www.fedora.info/bugzilla/">Bugzilla</a> for 
		more details on how to do this.&nbsp; <br>
&nbsp;</font></li>
		<li class="MsoNormal"><font style="font-size: 9pt" face="Arial"><b>
		Bugzilla #107:&nbsp; Use of &quot;distinct&quot; ignored in Resource Index Search.</b>&nbsp;
		<br>
		When using the Resource Index REST-based search interface (risearch), 
		the use of &quot;distinct&quot; didn't work in queries.&nbsp; The cause was that 
		risearch was ignoring the &quot;on&quot; value.&nbsp; The servlet that implements 
		risearch was looking for a value of 'true' instead of a value of &quot;on.&quot;&nbsp; 
		This caused &quot;distinct&quot; to not work.&nbsp; The fix was done within the 
		trippi libraries -- now it accepts 'on' or 'true' for the value.&nbsp; A 
		replacement trippi library (trippi.jar) was created and checking into 
		cvs.<br>
&nbsp;</font></li>
		<li class="MsoNormal"><font style="font-size: 9pt" face="Arial"><b>
		Bugzilla #108:&nbsp; Bad link on Download Page for Fedora 1.2.1.</b>&nbsp;&nbsp;
		<br>
		The download page for 1.2.1 has a bad hyperlink to the patch download. 
		Also the link &quot;Download&quot; on this page pointed to an old location.&nbsp; 
		Both are fixed.<br>
&nbsp;</font></li>
		<li class="MsoNormal"><font style="font-size: 9pt" face="Arial"><b>
		Bugzilla #110:&nbsp; Resource Index Corruption. </b>&nbsp;<br>
		After the introduction of the Resource Index in Fedora 2.0, there were 
		reports of out of memory errors occurring related to the Kowari 
		triplestore.&nbsp; This often led to corruption of Resource Index.&nbsp; 
		This was </font><font style="font-size: 9pt" face="Arial">traced to a 
		memory link in Kowari which <font style="font-size: 9pt">was caused by a 
		failure to properly clean up unused FreeList$Phase objects in one of the 
		FreeList constructors.</font>&nbsp; The problem showed up when doing 
		many inserts and deletions. <font style="font-size: 9pt">More 
		information can be found at: </font>&nbsp;</font><font size="2"><a title="http://prototypo.blogspot.com/2005/09/kowari-memory-leak-found-and-fixed.html" href="http://prototypo.blogspot.com/2005/09/kowari-memory-leak-found-and-fixed.html">http://prototypo.blogspot.com/2005/09/kowari-memory-leak-found-and-fixed.html</a></font><br>
&nbsp;</li>
		<li class="MsoNormal"><font style="font-size: 9pt" face="Arial"><b>
		Bugzilla #114: Resource Index had missing lastModifiedDate property on 
		datastream disseminations nodes. </b>&nbsp;<br>
		Resource Index datastream disseminations had createdDate instead of 
		lastModifiedDate properties.&nbsp; According the the Resource Index data 
		model, Disseminations should *not* have a createdDate property.&nbsp; 
		Now they have lastModifiedDates as expected.<br>
&nbsp;</font></li>
		<li class="MsoNormal"><font style="font-size: 9pt" face="Arial"><b>
		Bugzilla #116: Possible SQL database corruption during ingest when 
		failure occurs. <br>
		</b>When ingesting an object and a failure occurs after the object is 
		initially registered, the registry entries in the sql db table 
		doRegistry are not properly backed out. The result is that PID entries 
		are left in the doRegistry table so that subsequent attempts to 
		re-ingest will fail with the error being that the PID already exists.&nbsp; 
		bug had to do with Exception handling during the ingest sequence. The 
		bug was introduced with code changes related to Fedora 2.0. The 
		occurence of this bug in the 2.0 release should be rare but could occur 
		if a fatal error occurred with the sql database transactions during the 
		ingest sequence after the object had been registered. The symptom would 
		be a failed ingest and then the inability to re-ingest the same object 
		after the failure without manually removing the PID entry from the 
		doRegistry table.Exception handling has been modified in DOManager and 
		DOWriter to account for this scenario and properly backout any entries 
		in the doRegistry table. Exceptionon handling has been modified in 
		DOManager and DOWriter to account for this scenario and properly backout 
		any entries in the doRegistry table following a failure during the 
		ingest process.<br>
&nbsp;</font></li>
		<li class="MsoNormal"><font style="font-size: 9pt" face="Arial"><b>
		Bugzilla #117: Inline datastream xmlns placement problem. <br>
		</b>An inline xml datastream with valid, namespaced XML.&nbsp; When 
		tried to export the object, it failed (but purging it worked).The 
		problem seems to show itself when you have multiple 'xmlns=' 
		(&quot;default&quot;namespace) declarations in one inline xml chunk.What happens 
		is, somewhere along the line the default namespace declarations getmoved 
		to the root.&nbsp; And this makes for invalid (not well-formed) xml 
		(repeatingattributes of the same name are not allowed in the same 
		element).This is fixed in FOXMLDODeserializer and METSLikeDODeserializer.&nbsp; 
		The fix was tokeep a map of all prefix-to-uris and a list of prefixes 
		that needed to be written while parsing each element inside xml content.<br>
&nbsp;</font></li>
		<li class="MsoNormal"><font style="font-size: 9pt" face="Arial"><b>
		Bugzilla #125: Fedora Administrator does not allow editing of 
		&quot;application/xml&quot; MIME-typed datastreams.</b>&nbsp; This is now fixed.</font><br>
&nbsp;</li>
	</ol>
	<p class="MsoNormal">&nbsp;</p>
	<h2>D.&nbsp; Known Issues</h2>
	<ol style="margin-top: 0in; margin-bottom: 0in" start="1" type="1">
		<li class="MsoNormal"><font face="Arial" style="font-size: 9pt">If you 
		are using Disseminators that bind to external services AND if you 
		configure Fedora to authenticate the API-A service, then you should NOT 
		set the Fedora server hostname to LOCALHOST 
		since this is not a resolvable domain name.&nbsp; Disseminators with 
		external services require that external services be able to call back to 
		the Fedora repository to obtain datastreams.&nbsp;&nbsp; When an external 
		web service tries to call back to the Fedora, repository,&nbsp; there 
		must be a publicly 
		registered domain name for the Fedora server or else the external 
		service will not be able to contact the repository.&nbsp;&nbsp; To avoid 
		this problem, change the Fedora server hostname in the Fedora server 
		configuration file (fedora.fcfg) to a registered domain name.&nbsp; Note 
		that if you are running as LOCALHOST when API-A authentication is ON, 
		you will encounter exceptions in demo objects disseminations that depend 
		on external services (demo:6, demo:7, demo:10, demo:11, demo:17).<br>
&nbsp;</font></li>
		<li class="MsoNormal"><font face="Arial" style="font-size: 9pt">When the 
		Resource Index is configured to be ON,&nbsp; care should be taken to 
		estimate the number of triples per object that will be indexed in the 
		Resource Index (in the Kowari triplestore in particular).&nbsp; Consult 
		the document named &quot;<a href="../server/resourceIndex/triples.html">Triples 
		in the Resource Index</a>&quot; for an understanding what is indexed in the 
		Resource Index, and to estimate the number of triples in that will be 
		inserted into the Kowari triplestore.&nbsp;&nbsp; For very large 
		triplestores, a 64 bit architecture is required for optimal performance 
		and memory management.&nbsp; Testing of Kowari has shown that 
		performance on a 32 bit architecture degrades when the Kowari 
		triplestore get to approximately 50M triples, but that with a 64 bit 
		architecture, Kowari scales well to 250M triples (see:
		<a href="http://www.itee.uq.edu.au/~dwood/docs/www2005-kowari.pdf">
		http://www.itee.uq.edu.au/~dwood/docs/www2005-kowari.pdf</a>).<br>
&nbsp; </font></li>
		<li class="MsoNormal"><font face="Arial" style="font-size: 9pt">Also, 
		when bulk loading a repository that is estimated to have a very large 
		Resource Index (i.e., triplestore &gt; 50M triples), it is recommended that 
		the Fedora server be restarted periodically to optimize performance.&nbsp; 
		Bulk load tests on Fedora 2.1b indicate that there may be a slow memory 
		leak when doing large numbers of delete/insert sequences on the Kowari 
		triplestore.&nbsp;&nbsp;&nbsp; This potential issue is currently under 
		investigation.&nbsp; As a cautionary measure, periodic stopping and 
		restarting of the Fedora repository server will reclaim memory and 
		prevent the possibility of an out-of-memory exception (which might have 
		unpredictable effects on the Kowari triplestore).&nbsp; <br>
&nbsp;</font></li>
		<li class="MsoNormal"><font style="font-size: 9pt" face="Arial">Under 
		certain situations, the HTTP error response generated by a dissemination 
		request can mask the true underlying error. For example, consider a 
		backend service that attempts to get a datastream request from Fedora 
		and Fedora responds with a HTTP error response of 403 indicating 
		authorization with the Fedora server was denied. If the backend service 
		does not properly handle this response and just returns 
		ServerException(500 error) for any non-200 response, then the 
		originating dissemination request will only &quot;see&quot; the 500 error returned 
		by the backend service and not the underlying 403.</font><br>
&nbsp;</li>
		<li class="MsoNormal"><font face="Arial" style="font-size: 9pt">Running 
		the server in &quot;debug&quot; mode will slow down performance.&nbsp; You can 
		turn debugging on/off in the Fedora server configuration file (fedora.fcfg).<br>&nbsp;</font></li>
		<li class="MsoNormal"><font face="Arial" style="font-size: 9pt">
		Modification of Behavior Definition and Behavior Mechanism objects not 
		yet supported, but will be made available in the next release of Fedora.
		<br>&nbsp;</font></li>
		<li class="MsoNormal"><font face="Arial" style="font-size: 9pt">One 
		early adopter of Fedora 2.1b reported anomalous 401 status codes 
		returned after a period of normal server use.&nbsp; To date, this observation 
		hasn't been replicated, and the cause is unknown.&nbsp; The problem was fixed 
		by changing from option B to option C as described in the document 
		titled &quot;Securing Your Fedora Repository&quot;, section 4.<br>&nbsp;</font></li>
		<li class="MsoNormal"><font face="Arial" style="font-size: 9pt">The 
		exception 
		fedora.server.errors.servletExceptionExtensions.Ok200Exception, (and 
		associated stacktrace) is produced by fedora.server.ServerController and 
		can safely be ignored.<br>&nbsp;</font></li>
	</ol>
	<p>&nbsp;</p><hr>
	<h1>&nbsp;</h1>
	<h1><a id="rel2.0" name="rel2.0">2.&nbsp; Release 2.0 - January 31,
    2005</a></h1>

    <p>Fedora 2.0 is a major release that culminates Phase I of the
    initial Fedora project that began in October 2001 and ended in
    October 2004. Fedora 2.0 includes significant new features and
    improvements including the introduction of the Fedora Object
    XML (FOXML) schema as the new internal storage format for
    objects, introduction of the Resource Index that provides
    enhanced search capability, introduction of a Batch Modify
    utility, upgrades of all third party libraries, performance
    enhancements, and a number of bug fixes.</p>

    <p>IMPORTANT!! - Migrating From Fedora Release 1.2.1</p>

    <p>Users migrating from Fedora Release 1.2.1 need to follow the
    steps outlined in the section entitled, Migrating From Fedora
    1.2.1 to Fedora 2.0, and apply patch number 2 to their existing
    Fedora 1.2.1 repository BEFORE attempting migration to Fedora
    2.0. Failure to do so can severely limit future migration
    options.</p>

    <p>If you are running a version of the Fedora software prior to
    version 1.2.1, you will need to migrate your server software up
    to version 1.2.1 first, and then proceed with the migration
    from Fedora 1.2.1 to Fedora 2.0. Steps for migrating to Fedora
    1.2.1 can be found in the release notes section for Fedora
    1.2.1.</p>

    <div class="sec2">
      <h2><a name="rel2.0.migrate" id="rel2.0.migrate">A. Migrating
      From Fedora 1.2.1 to Fedora 2.0</a></h2>

      <p>If you are upgrading from Fedora 1.2.1 to Fedora 2.0
      follow these steps:</p>

      <ol>
        <li>Download patch number 2 from
        <a href="http://www.fedora.info/download/1.2.1/patch2">
        http://www.fedora.info/download/1.2.1/patch2</a>.</li>

        <li>Make sure you are running v1.2.1 of the Fedora server
        software.

          <p>DO NOT APPLY THIS PATCH TO ANY OTHER VERSION OF
          FEDORA!</p>

          <p>To check your repository's version, check the
          "describe" page. For instance, if you're running Fedora
          on localhost:8080, visit
          http://localhost:8080/fedora/describe</p>
        </li>

        <li>Shut down your Fedora 1.2.1 server (using
        fedora-stop)</li>

        <li>Make a backup of the METSLikeExportDOSerializer.class
        file.

          <p>Under Windows, make a backup of the following
          file:</p>

          <div class="code">
            <pre>
%FEDORA_HOME%\server\tomcat41\webapps\fedora\WEB-INF\classes\fedora\server\storage\translation\METSLikeExportDOSerializer.class
</pre>
          </div>

          <p>Under Unix, make a backup of the following file:</p>

          <div class="code">
            <pre>
$FEDORA_HOME/server/tomcat41/webapps/fedora/WEB-INF/classes/fedora/server/storage/translation/METSLikeExportDOSerializer.class
</pre>
          </div>
        </li>

        <li>Copy the METSLikeExportDOSerializer.class from this
        patch into the above directory replacing the one there.

          <p>Under Windows, copy the
          METSLikeExportDOSerializer.class from patch into the
          following directory</p>

          <div class="code">
            <pre>
%FEDORA_HOME%\server\tomcat41\webapps\fedora\WEB-INF\classes\fedora\server\storage\translation 
</pre>
          </div>

          <p>OVER THE EXISTING FILE.</p>

          <p>Under Unix, copy the METSLikeExportDOSerializer.class
          from patch into the following directory</p>

          <div class="code">
            <pre>
$FEDORA_HOME/server/tomcat41/webapps/fedora/WEB-INF/classes/fedora/server/storage/translation 
</pre>
          </div>

          <p>OVER THE EXISTING FILE.</p>
        </li>

        <li>(OPTIONAL) If you installed the source code
        distribution of Fedora, you should also copy the included
        METSLikeExportDOSerializer.java file into your source
        directory.

          <p>Under Windows, copy the
          METSLikeExportDOSerializer.java file from the patch into
          the following directory</p>

          <div class="code">
            <pre>
%FEDORA_HOME%\src\java\fedora\server\storage\translation
</pre>
          </div>

          <p>OVER THE EXISTING FILE.</p>

          <p>Under Unix, copy the METSLikeExportDOSerializer.java
          file from the patch into the following directory</p>

          <div class="code">
            <pre>
$FEDORA_HOME/src/java/fedora/server/storage/translation
</pre>
          </div>

          <p>OVER THE EXISTING FILE.</p>
        </li>

        <li>Re-start your Fedora 1.2.1 server (using fedora-start).
        Your Fedora 1.2.1 repository is now ready for exporting its
        objects to the new server.</li>

        <li>Download the Fedora 2.0 software from <a href=
        "http://www.fedora.info/download">http://www.fedora.info/download</a></li>

        <li>Install and configure the new Fedora 2.0 repository
        with a different host and port than the Fedora 1.2.1
        server.</li>

        <li>Start the Fedora 2.0 server (using fedora-start).</li>

        <li>There are two ways to ingest objects from the 1.2.1
        server: 1) use the admin GUI client to ingest the objects
        from the 1.2.1 repository or 2) use the fedora-ingest
        command-line utility to ingest the objects from the 1.2.1
        repository

          <ol type="a">
            <li>Using the admin GUI client to ingest objects from
            the 1.2.1 repository

              <ol type="i">
                <li>Start the fedora admin GUI client (using
                fedora-admin).</li>

                <li>Under the File menu item, select File, Ingest,
                Object By Type, From Repository.</li>

                <li>Specify the hostname and port of the Fedora
                1.2.1 server from which you want to ingest objects.
                Specify the administrator username and password for
                the 1.2.1 repository.</li>

                <li>Select all three object types including
                Behavior Definition, Behavior Mechanism, and Data
                object and click OK.</li>

                <li>The Fedora 2.0 server will now ingest all
                objects from the 1.2.1 repository.</li>
              </ol>OR
            </li>

            <li>Using the fedora-ingest command-line utility to
            ingest objects from the 1.2.1 repository.

              <ol type="i">
                <li>Run the fedora-ingest command-line utility
                which is found in the client/bin directory.

                  <p>Under Windows, this file is found in:</p>

                  <div class="code">
                    <pre>
%FEDORA_HOME%\client\bin\fedora-ingest.bat
</pre>
                  </div>

                  <p>Under Unix, this file is found in:</p>

                  <div class="code">
                    <pre>
$FEDORA_HOME/client/bin/fedora-ingest.sh
</pre>
                  </div>
                </li>

                <li>Arguments for the fedora-ingest utility should
                include the following:

                  <ul>
                    <li>Type of ingest: specify R for
                    repository</li>

                    <li>Hostname and port of the 1.2.1 repository
                    from which you wish to ingest objects:
                    source-host:source-port</li>

                    <li>Administrator username of the 1.2.1
                    repository: fedoraAdmin</li>

                    <li>Password for the administrator username of
                    the 1.2.1 repository: fedoraAdmin is the
                    default</li>

                    <li>Type of objects to ingest: specify DMO for
                    all three object types.</li>

                    <li>Hostname and port of the 2.0 repository
                    into which you are ingesting the objects:
                    destination-host:destination-port</li>

                    <li>Administrator username of the 2.0
                    repository: fedoraAdmin</li>

                    <li>Password for the administrator username of
                    the 2.0 repository: fedoraAdmin is the
                    default</li>

                    <li>Log message: use "" for no message.

                      <p>For example:</p>

                      <div class="code">
                        <pre>
fedora-ingest r src-host:src-port fedoraAdmin fedoraAdmin DMO dest-host:dest-port fedoraAdmin fedoraAdmin ""
</pre>
                      </div>
                    </li>
                  </ul>
                </li>
              </ol>
            </li>
          </ol>
        </li>

        <li>After successfully ingesting all objects from the 1.2.1
        repository, shutdown the 1.2.1 repository (using
        fedora-stop).</li>

        <li>If you desire to run the Fedora 2.0 repository under
        the same hostname and port as the 1.2.1 repository, you can
        now shutdown the 2.0 repository using fedora-stop,
        reconfigure the host and port in the fedora.fcfg file for
        the 2.0 repository to match those of the previous 1.2.1
        repository, and restart the Fedora 2.0 repository.</li>
      </ol>
    </div>

    <div class="sec2">
      <h2><a name="rel2.0.features" id="rel2.0.features"></a>B. New
      Features</h2>

      <ol>
        <li>
          <a name="rel2.0.features.foxml"></a><b>Fedora Object XML
          (FOXML)</b>

          <p>A new XML schema has been developed that provides a
          simple and unambiguous expression of the Fedora digital
          object model. Previously, Fedora digital objects could
          only be expressed in XML using an extension of the METS
          schema. FOXML is the new internal storage format for
          digital objects inside a Fedora repository. However,
          Fedora supports both METS and FOXML as ingest and export
          formats (see #2 below). The introduction of FOXML was
          motivated by several requirements: (1) simplicity - user
          feedback called for a conceptually easy mapping of the
          Fedora concepts to an XML format. Users wanted an obvious
          sense of how to create Fedora ingest files, especially
          those who are not familiar with formats such as METS and
          DIDL, (2) optimization and performance - the FOXML schema
          was designed to improve repository performance, both at
          ingest and during disseminations. Overall ingest
          performance has been positively affected with FOXML,
          especially in the validation phases, (3) flexibility -
          internal storage of FOXML enables easier evolution of
          functionality in the Fedora repository, without relying
          on Fedora-specific extensions to the METS schema. FOXML
          also introduces several new features to the Fedora Object
          Model including, the ability to store alternate
          identifiers for datastreams, and the ability to store
          format URIs for datastreams and objects (i.e., in
          anticipation of services such as the Global Digital
          Format Registry (GDRF). Refer to the user documentation
          for more details about FOXML and new features of the
          Fedora Object Model.</p>

          <p>The XML schema for FOXML is available at:</p>

          <p><a href=
          "http://www.fedora.info/definitions/1/0/foxml1-0.xsd">http://www.fedora.info/definitions/1/0/foxml1-0.xsd</a></p>
        </li>

        <li>
          <a name="rel2.0.features.format"></a><b>Ingest and
          Export with Different XML Formats</b>

          <p>The Fedora project is committed to providing
          repository ingest and export functions that are compatible
          with community developed standards for digital object XML
          encoding. This is motivated by both interoperability and
          digital preservation concerns, where flexibility in the
          transmission format of digital objects is an important
          feature. In support of this, the ingest and export
          operations of API-M have been redesigned to allow
          submission and retrieval of digital objects in several
          alternative XML formats. In release 2.0, digital objects
          can be ingested and exported in either METS (Fedora
          extension) or FOXML. In future releases, we will add
          support for METS 1.3 and MPEG21/DIDL. Internally, the
          Fedora repository system provides a translation module
          that is responsible for mapping digital objects to the
          different supported formats. See the new "Ingest and
          Export Guide" in the system documentation for more
          details.</p>
        </li>

        <li>
          <a name="rel2.0.features.relmeta"></a><b>Relationship
          Metadata for Digital Objects</b>

          <p>Fedora now supports the assertion of object-to-object
          relationships. Fedora digital objects can be related to
          other Fedora objects in many ways. For example there may
          be a Fedora object that represents a collection and other
          objects that are members of that collection. Also, it may
          be the case that one object is considered a part of
          another object, a derivation of another object, a
          description of another object, or even equivalent to
          another object. Relationship metadata of this sort can
          now be encoded in Fedora digital objects in a special
          reserved datastream (identified as "RELS-EXT").
          Relationships are expressed as RDF/XML. Fedora provides a
          default relationship ontology that defines a set of
          common relationships (see:
          http://www.fedora.info/definitions/1/0/fedora-relsext-ontology.rdfs).
          Also, there is support for community or user-defined
          relationships. The relationships datastream is
          automatically indexed by Fedora as part of the new
          Resource Index module (described below), which provides
          RDF-based searching of the repository, including
          object-to-object relationships.</p>
        </li>

        <li>
          <a name="rel2.0.features.ri"></a><b>Resource Index</b>

          <p>The Resource Index Module provides an RDF storage and
          query service for object metadata and relationships in
          Fedora. By default, the Resource Index indexes object
          properties, datastream, and dissemination information. In
          addition, user-defined, inter-object relationships
          expressed the RELS-EXT datastream are also automatically
          indexed. Examples of relationships between digital objects that may be 
          expressed in the Resource Index include 
          well-known management relationships such as the part-whole links 
          between individual chapters and a book, and semantic relationships 
          useful in digital library organization such as those expressed within 
          the Functional Requirements for Bibliographic Records (FRBR). The 
          query interface is exposed as a web service, providing the foundation 
          for external services. 
          Refer to the user documentation for additional
          information about the Resource Index.</p>
        </li>

        <li>
          <a name="rel2.0.features.modify"></a><b>Batch Modify
          Utility</b>

          <p>A new utility has been added to the Fedora
          administrative client that allows repository
          administrators to perform object modifications in batch
          mode. The utility is built using the management API
          method of API-M so that most of the API-M methods can be
          run against groups of objects. The utility works by
          creating an xml-encoded input file of modify directives.
          This directives files is then processed in sequence to
          carry out the designated tasks. A sample batch modify
          directives file is included in the distribution in the
          batch-demo directory. Refer to the Batch Modify Utility
          user documentation for additional information regarding
          the Batch Modify Utility.</p>
        </li>

        <li>
          <a name="rel2.0.features.report"></a><b>Repository
          Administrator Reporting Tools</b>

          <p>A new Reporting interface has been added for obtaining
          simple administrative reports about objects in the
          repository. The interface consists of several static
          queries that can be performed on the repository to obtain
          statistics about objects. These queries currently include
          object counts based on type of object, creation date, and
          pid namespace. Refer to the user documentation for
          additional information.</p>
        </li>
        
        <li>
          <a name="rel2.0.demo.soapclient"></a><b>Example Client for
          Making SOAP calls to Fedora APIs</b>
                  
        <p>A sample java client application is provided that 
        demonstrates how to make SOAP calls to API-M and API-A.  
        This client is written as a single java class that connects to
        a Fedora repository, and makes a set of successive set of 
        SOAP calls to ingest an object from a FOXML XML file, then 
        add datastreams, modify datastreams, export the object, and 
        several other useful examples.  It is intended as a quick and 
        easy starting point for Java programmers who want to write
        their own clients to the Fedora SOAP interface. The demo
        client is found in the Fedora 2.0 distribution at: 
        {FEDORA_HOME}/client/demo/soapclient.  Programmers should examine the file DemoSOAPClient.java.  
        To compile the demo, run the script named &quot;compile-demo-soapclient.bat&quot;
        (or .sh on unix).  To run the demo, run the script named 
        &quot;run-demo-soapclient.bat&quot; (or .sh on unix).    
</p>
        </li>

        <li>
          <a name="rel2.0.features.libs"></a><b>Third party
          Library Upgrades</b>

          <p>All of the major third party libraries used in the
          Fedora codebase have been updated to reflect the most
          current stable versions available. This includes updating
          the underlying tomcat server to tomcat version 5. For
          Additional details regarding new library versions, refer
          to the <code>license.html</code> file in the distribution which has a
          complete list of the new libraries.</p>
        </li>

        <li>
          <a name="rel2.0.features.tune"></a><b>Performance
          Tuning</b>

          <p>Significant enhancements have been made to the Fedora
          server code to improve ingest performance. These
          enhancements included both tuning of the underlying
          relational database as well as tuning how ingests are
          handled internally in the Fedora server.</p>
        </li>

        <li>
          <a name="rel2.0.features.apia"></a><b>API-A and
          API-A-LITE Changes</b>

          <p>A general cleanup of the methods found in API-A and
          API-A-LITE has been done to provide better consistency
          between the SOAP-based and REST-based interfaces for
          API-A. The corresponding WSDL files have also been
          updated to reflect the changes.</p>

          <p>Previously in Fedora 1.2.1:</p>

          <div class="code">
            <pre>
  API-A
  
    describeRepository
    findObjects
    getBehaviorDefinitions
    getBehaviorMethods
    getBehaviorMethodsXML
    getDissemination
    getObjectMethods
    getObjectProfile
    resumeFindObjects
 
  API-A-LITE

    describeRepository
    findObjects
    getDissemination
    getObjectProfile
    resumeFindObjects
    
</pre>
          </div>

          <p>In Fedora 2.0:</p>

          <div class="code">
            <pre>
  API-A

  describeRepository
  findObjects
  getDatastreamDissemination
  getDissemination
  getObjectHistory
  getObjectProfile
  listMethods
  listDatastreams
  resumeFindObjects

  API-A-LITE

  describeRepository
  findObjects
  getDatastreamDissemination
  getDissemination
  getObjectHistory
  getObjectProfile
  listDatastreams
  listMethods
  resumeFindObjects
  
</pre>
          </div>

          <p>API-A Methods removed:</p>

          <ul>
            <li>getBehaviorDefinitions - the functionality of this
            method is replaced with the revised getObjectProfile
            method which now provides complete object info
            including behavior definitions and methods.</li>

            <li>getBehaviorMethods - the functionality of this
            method is replaced with the revised getObjectProfile
            method which now provides complete object info
            including behavior definitions and methods.</li>

            <li>getBehaviorMethodsXML - the functionality of this
            method is replaced with the revised getObjectProfile
            method which now provides complete object info
            including behavior definitions and methods.</li>

            <li>getObjectMethods - the functionality of this method
            is replaced with the revised getObjectProfile method
            which now provides complete object info including
            behavior definitions and methods.</li>
          </ul>

          <p>API-A Methods added or modified:</p>

          <ul>
            <li>getDatastreamDissemination - this new method
            replaces the functionality provided in earlier releases
            using the getItem method of the Default Disseminator to
            return the contents of a datastream. Use of the default
            disseminator getItem method is now deprecated.</li>

            <li>getObjectHistory - this new method provides a
            change history for a digital object listing each
            modification date when an object component has been
            modified. This is an interim solution to provide some
            basic information through API-A and API-A-LITE about
            the change history of an object. Eventually we would
            like to provide more detailed information from the
            Fedora audit records so one could obtain a detailed
            history of what changes were made to specific
            components of the object.</li>

            <li>getObjectProfile - this method has been modified to
            return the complete object profile for a digital
            object. The object profile now includes all component
            information about an object.</li>

            <li>listDatastreams - this new method replaces the
            functionality provided in earlier releases using the
            getItemIndex method of the Default Disseminator to list
            the datastreams of an object.</li>

            <li>listMethods - this new method replaces the
            functionality provided in earlier releases using the
            getMethodIndex method of the Default Disseminator to
            list the methods of an object.</li>
          </ul>
        </li>

        <li>
          <a name="rel2.0.features.apim"></a><b>API-M changes</b>

          <ul>
            <li>logMessage parameter now exists on all
            object-modifying methods.</li>

            <li>Datastream altIDs attribute. Any number of
            alternate identifiers can be specified for datastreams
            on creation or modification. This information is
            currently maintained, but not acted upon.</li>

            <li>Datastream versionable attribute. A new boolean
            parameter that indicates whether Fedora should make
            changes in-place or retain prior versions on datastream
            modification. This information is currently maintained,
            but not acted upon.</li>
            
            <li>New ingest method added. With the introduction of 
            FOXML and support for multiple ingest formats, an 
            additional parameter was required on ingest to specify 
            the format of the file to be ingested. Valid values 
            for format are "foxml1.0", "metslikefedora1", or "default". 
            The format of "foxml1.0" specifies ingest files is
            encoded using FOXMLv1.0. The format of "metslikefedora1"
            specifies the encoding is Fedora's extension of METS. The
            format of "default" indicates to use the current repository
            default format. Refer to the API-M WSDL for additional 
            information about the change. The former ingestObject 
            method is now deprecated.</li>
            
            <li>New export method added. With the introduction of 
            FOXML and support for multiple export formats, an 
            additional parameter was required on export to specify 
            the format of the file to be exported and to specify
            the context of the export. Valid values for format 
            are "foxml1.0", "metslikefedora1", or "default". 
            Valid values for format are described above. Valid values
            for context are "public", "migrate", and "archive". 
            A value of "public" produces an export file 
            that is appropriate for use outside of the repository 
            (all datastream	content can be obtained via public 
            callback URLs). A value of "migrate" produces
			an export file that is appropriate for migrating an 
			object from one Fedora repository to another. A value
			of "archive" produces an export file that is a standalone 
			entity, where all datastream content is inlines 
			(XML inline and binary base64-encoded inline).
			Note that the "archive" option is not implemented in Fedora 2.0. 
			Refer to the API-M WSDL for additional information about the change. 
			The former exportObject method is now deprecated.</li>

            <li>modifyDatastream now supports changing the mimeType
            and formatURI, and altID.</li>

            <li>modifyDatastream and modifyDisseminator methods now
            support a "force" parameter, which indicates that even
            if a data type contract would be broken, Fedora should
            accept the change anyway.</li>

            <li>purgeObject and purgeDatastream now include force
            parameters. Currently when specified as true, these
            throw an exception. This feature will be implemented in
            a future release.</li>

            <li>Consistent parameter ordering. Parameter ordering
            of all the API-M methods was adjusted to make parameter
            ordering more consistent. Generally, the first one or
            two parameters identify the thing being
            accessed/modified (object PID, datastream or
            disseminator ID). When "logMessage" is relevant, it
            occurs just after any data parameters. When "force" is
            relevant, it occurs last.</li>
            
            <li>The treatment of nulls versus empty strings in
            arguments for the modifyDatastream and modifyDisseminator
            methods of API-M is now more consistent. Arguments
            specified as null indicate that the original attribute of
            the component is to remain unchanged. Arguments specified
            as the empty string indicate the original attribute is to
            be set to the empty string. Arguments specified as
            non-null or non-empty indicate the original attribute is
            to be replaced by the specified value.</li>
          </ul>

          <p>Summary of API-M changes:</p>

          <ul>
            <li>addDatastream: added parameters altIDs and
            logMessage</li>

            <li>addDisseminator: added parameter logMessage;
            removed</li>

            <li>parameters bDefLabel and bMechLabel</li>

            <li>describeUser: [no change]</li>

            <li>export: added parameters format, context</li>

            <li>exportObject: [no change]</li>

            <li>getDatastream: [no change]</li>

            <li>getDatastreamHistory: [no change]</li>

            <li>getDatastreams: [no change]</li>

            <li>getDisseminator: [no change]</li>

            <li>getDisseminatorHistory: [no change]</li>

            <li>getDisseminators: [no change]</li>

            <li>getNextPID: [no change]</li>

            <li>getObjectXML: [no change]</li>

            <li>ingest: added parameter format</li>

            <li>ingestObject: [no change]</li>

            <li>modifyDatastreamByReference: added parameters
            altIDs, versionable, MIMEType, and formatURI, and
            force</li>

            <li>modifyDatastreamByValue: added parameters altIDs,
            versionable, MIMEType, formatURI, and force</li>

            <li>modifyDisseminator: added parameter force; removed
            parameters bDefLabel and bMechLabel</li>

            <li>modifyObject: [no change]</li>

            <li>purgeDatastream: added parameters logMessage and
            force</li>

            <li>purgeDisseminator: added parameter logMessage</li>

            <li>purgeObject: added parameter force</li>

            <li>setDatastreamState: [no change]</li>

            <li>setDisseminatorState: [no change]</li>
          </ul>
        </li>

        <li>
          <a name="rel2.0.features.pidsyntax"></a><b>PID
          Definition Syntax Relaxed</b>

          <p>Prior to Fedora version 2.0, the syntax for persistent
          identifiers (PIDs) was defined as a subset of the URN
          syntax, but was not strictly enforced by the server
          software. In version 2.0, the PID definition syntax has
          been relaxed to enable a wider range of possible PID
          values and the server software now strictly enforces the
          syntax of incoming PIDs.</p>

          <p>The following describes the syntactic constraints for
          PIDs in normalized form. The only differences with
          non-normalized PIDs are that the colon delimiter may be
          encoded as "%3a" or "%3A", and hex-digits may use
          lowercase [a-f].</p>

          <div class="code">
            <pre>
  PID:<br />
  Length : maximum 64<br />
  Syntax : namespace-id ":" object-id
  
  namespace-id:<br />
  Syntax : ( [A-Z] / [a-z] / [0-9] / "-" / "." ) 1+
  
  object-id:<br />
  Syntax : ( [A-Z] / [a-z] / [0-9] / "-" / "." / "~" / "_" / escaped-octet ) 1+<br />
  
  escaped-octet:
  Syntax : "%" hex-digit hex-digit
  
  hex-digit:
  Syntax : [0-9] / [A-F]

  
</pre>
          </div>
        </li>

        <li>
          <a name="rel2.0.features.passpid"></a><b>Including PID
          As Default Parameter in Disseminations</b>

          <p>When constructing complex user-defined disseminators
          that reference disseminations from other objects, it is
          often handy to be able to pass the PID of the data object
          on to the nested dissemination requests. Prior to Fedora
          2.0, the only way to accomplish this was to add a formal
          User Parameter to the disseminator method and use it to
          pass the value of the PID. This syntax is awkward since
          the PID of the data object is already contained in the
          dissemination request. For example:</p>

          <div class="code">
            <pre>
http://localhost:8080/fedora/get/demo:999/demo:991/getMethod?userparm1=value&amp;userparm2=value&amp;pid=demo:999
</pre>
          </div>

          <p>In the future, we plan to make it possible for the PID
          of the data object to be automatically passed as a
          parameter so it is always available downstream as a valid
          parameter on any dissemination request. As an interim
          solution to address this issue, Fedora 2.0 allows the PID
          of the data object to be passed as a default behavior
          mechanism parameter by using a special syntax of the
          DefaultInputParm element in the behavior mechanism
          object. For example:</p>

          <div class="code">
            <pre>
&lt;fmm:DefaultInputParm defaultValue="$PID" label="The PID of the data object" parmName="PID" passBy="VALUE" required="true"/&gt;
</pre>
          </div>

          <p>Specifying a DefaultInputParm with a default value of
          "$PID" will result in the PID of the data object being
          passed on to the external service defined in the behavior
          mechanism object. In the WSDL section of the behavior
          mechanism object, reference the special DefaultInputParm
          as you would other parameters. For example:</p>

          <div class="code">
            <pre>
  &lt;wsdl:operation name="getService"&gt;
    &lt;http:operation location="runScript.pl?pid=(PID)"/&gt;
       .
       .
       .
  
</pre>
          </div>

          <p>At run time, this will be translated into</p>

          <div class="code">
            <pre>
  runScript.pl?pid=pid-of-the-data-object
</pre>
          </div>

          <p>A similar syntax is available to pass the object URI
          of the data object. If you want to pass the data object's
          URI, then specify a DefaultInputParm with a default value
          of "$objuri" and this will be translated at run time
          into</p>

          <div class="code">
            <pre>
runScript.pl?pid=info:fedora:/pid-of-the-data-object
</pre>
          </div>

          <p>where PID is the persistent identifier of the data
          object.</p>

          <p>The demo data object object named demo_SmileyStuff.xml
          and the associated behavior mechanism object named
          demo_DualResImageCollection.xml provide an example of the
          new syntax.</p>
        </li>

        <li>
          <a name="rel2.0.features.timestamp"></a><b>Syntax Of
          Timestamp Values Extended</b>

          <p>Prior to Fedora 2.0, the syntax of timestamp values
          was to the nearest second. This range has been extended
          in Fedora 2.0 to include milliseconds to capture
          versioning changes that occur in less than one second.
          The new timestamp syntax is:</p>

          <div class="code">
            <pre>
  YYYY-MM-DDTHH:MM:SS:SSSZ
  
  e.g., 2005-01-17T12:13:54:185Z
  
</pre>
          </div>
        </li>

        <li>
          <a name="rel2.0.features.website" id=
          "rel2.0.features.website"></a><b>Redesign of Fedora Web
          Site and Documentation</b>

          <p>The Fedora web site at <a href=
          "http://www.fedora.info">http://www.fedora.info</a> has
          been totally redesigned to provide enhanced readability,
          better navigation, and a more consistent "look and feel".
          Areas like the "Tools" section have been added to provide
          a place where Fedora users can share code and techniques
          they have developed using Fedora. The tools section is
          still under construction but will be available for
          accepting posts in the near future.</p>
        </li>

        <li>
          <a name="rel2.0.features.tutorial"></a><b>Fedorial
          Tutorials</b>

          <p>A new series of tutorials is being developed that
          provides step-by-step instuctions for accomplishing
          common tasks with Fedora. The tutorials target a broad
          audience from system developers and repository managers
          to end users. Currently, there are three planned
          tutorials in the series:</p>

          <ol>
            <li>Introduction: Basic Concepts in Fedora</li>

            <li>Getting Started: Creating Fedora Objects and Using
            Disseminators</li>

            <li>Information Modeling: Designing Fedora Content
            Models</li>
          </ol>As of Fedora 2.0, only the first two tutorials are available.
          The third tutorial is in progress and will be available in
          the spring of 2005. The tutorials can be found in
          the release in the tutorial directory under userdocs. The
          tutorials are also available on the web site at <a href=
          "http://www.fedora.info/documentation/tutorials.shtml">http://www.fedora.info/documentation/tutorials.shtml</a>.<br />

          <br />
        </li>
      </ol>
    </div>

    <div class="sec2">
      <h2><a name="rel2.0.bugfix" id="rel2.0.bugfix"></a>C. Bug
      Fixes</h2>

      <ol>
        <li>
          <b>Incorrect GMT Datetimes - Creation dates for objects
          do not appear to have the correct GMT timestamps.
          (Bugzilla #52)</b>

          <p>When objects were created, the GMT timestamps stored
          did not reflect the correct time of object creation. This
          was bug in fedora.server.utilitites.DateUtility. The time
          zone offset was incorrectly being applied to the creation
          datetime. Objects now reflect the correct GMT creation
          datetimestamp.</p>
        </li>

        <li>
          <b>Managed datastreams inadvertently deleted - Under
          certain situations managed content datastreams could be
          deleted when purging similarly PIDed objects. (Bugzilla
          #53)</b>

          <p>This was a bug in
          fedora.server.storage.replication.DefaultDOReplicator.
          Managed datastreams are stored internally using an
          identifier that consists of objPID + dsID + dsVerID. An
          errant regular expression was being greedy in matching
          which could result in similarly PIDed objects being
          deleted. The regular expression is fixed to prevent
          this from occuring.</p>
        </li>

        <li>
          <b>Errant space in SchemaLocation used by getnextPID -
          There is an erroneous space preceding the SchemaLocation
          in output for getNextPID. (Bugzilla #54)</b>

          <p>The SchemaLocation in the xml header output when
          running the getNextPID method of API-M and API-M-LITE
          contains an errant blank. This bug will only cause
          problems if trying to validate the xml output from the
          server. The errant space has been removed.</p>
        </li>

        <li>
          <b>Dublin Core description element missing from drop down
          menu in admin GUI client. (Bugzilla #55)</b>

          <p>The drop down menu for Dublin Core elements in the
          admin GUI does not contain the description element. The
          description element has been added to the drop down
          list.</p>
        </li>

        <li>
          <b>Unable to disseminate timestamped disseminations -
          Under certain situations, attempting timestamped
          disseminations would throw NullPointerException.
          (Bugzilla #56)</b>

          <p>This bug only occurs when attempting timestamped
          disseminations using user-defined disseminators (i.e.,
          disseminators other than the default disseminator).</p>

          <p>This was a bug in
          fedora.server.storage.SimpleDOReader. When datastream
          state checking was added in Fedora 1.2, the section of
          code dealing with populating the DisseminationBindingInfo
          class did not include the new variable for datastream
          state. As a result this variable in the class is never
          initialized which leads to the eventual null pointer
          exception when attempting timestamped disseminations with
          user-defined disseminations.</p>
        </li>

        <li>
          <b>Serializer fails on export of bMech objects. Exporting
          bMech objects throws NullPointerException. (Bugzilla
          #57)</b>

          <p>The problem was that the method that checked WSDL and
          SERVICE-PROFILE datastreams for instances of the local
          pattern "http://local.fedora.server" did not have this
          pattern compiled. This caused a null pointer exception
          when the xml datastreams were searched for this pattern.
          Bmech objects now export correctly.</p>
        </li>

        <li>
          <b>Object Label updates not reflected in ObjectProfile -
          Changing an object's label in the admin GUI is not
          reflected when disseminating objectProfile. (Bugzilla
          #58)</b>

          <p>This was a bug in the replicator where the object
          label field was not being updated when the object label
          was changed in the object xml. Object label changes are
          now properly displayed when disseminating the
          objectProfile.</p>
        </li>

        <li>
          <b>Timestamp information not displayed in all views of
          Default Disseminator (Bugzilla #59)</b>

          <p>Timestamp information was not being properly handled
          by the XSL stylesheet that is used to style the output
          from viewItemIndex. This is now corrected and timestamp
          info is properly displayed in all views of the default
          disseminator (getObjectProfile, viewItemIndex, and
          viewMethodIndex).</p>
        </li>

        <li>
          <b>Date issues when Server and Client in different
          Timezones - Creation dates for objects can be incorrect
          when server and client are in different time zones.
          (Bugzilla #60)</b>

          <p>When a Fedora server is in one time zone and a Fedora
          client is in a different time zone, it was discovered
          that incorrect timestamps were displayed by the client
          when retrieving objects from the server.</p>

          <p>If you open the object editor on an existing object
          and go to the Datastreams pane, you will see that the
          created dates on the version timeline do not match what's
          in the datastream at the server.</p>

          <p>Even though the admin GUI client is getting the
          creation data from the server (via the java Calendar and
          Date classes), it appears that the client evaluation of
          the values considers the system clock current settings
          which are adjusted based on time zone. This is probably
          embedded in the underlying implementation of the java
          Calendar class.</p>

          <p>The fix was to redesign the handling of timestamp
          information by both the Fedora client and server. Fedora
          now standardizes on all dates PRODUCED by Fedora as
          STRINGS in ISO8601 format: mm-dd-yyThh:mm:ssZ. This
          allows Fedora to accept strings in mm-dd-yy or
          mm-dd-yyThh:mm:ss or mm-dd-yyThh:mm:ssZ format, to keep
          backward compatiability.</p>
        </li>

        <li>
          <b>Problem when versions get assigned the same timestamp
          (Bugzilla #64)</b>

          <p>In certain situations when modifications to an object
          component occur in rapid succession it was observed that
          a timestamp granularity of seconds was insufficient and
          you could have two versions with the same timestamp
          values to the nearest second. The solution was to extend
          the value of timestamps to include milliseconds to
          prevent any potential conflict.</p>
        </li>

        <li>
          <b>Inconsistent treatment of nulls versus empty string in
          arguments of modifyDatastream and modifyDisseminator
          methods of API-M (Bugzilla #68)</b>

          <p>The treatment of nulls versus empty strings in
          arguments for the modifyDatastream and modifyDisseminator
          methods of API-M is now more consistent. Arguments
          specified as null indicate that the original attribute of
          the component is to remain unchanged. Arguments specified
          as the empty string indicate the original attribute is to
          be set to the empty string. Arguments specified as
          non-null or non-empty indicate the original attribute is
          to be replaced by the specified value.</p>
        </li>

        <li>
          <b>Error when editing disseminator label when using McKoi
          (Bugzilla #76)</b>

          <p>When attempting to edit a disseminator's label when
          using McKoi as the underlying SQL database, the server
          would throw SQLException. This error was due to a
          typographical error in the database column name being
          used. Oracle and MySQL are case insensitive regarding
          column names, but McKoi is case sensitive. This allowed
          dissemination labels to work under MySQL or Oracle
          implementations, but fail with McKoi implementations. The
          case of the column name is now corrected and works for
          all three database implementations.</p>
        </li>

        <li>
          <b>Oracle error on ingest: cannot insert NULL into
          DSBIND.DS (Bugzilla #77)</b>

          <p>In certain situations when using Oracle as the
          underlying SQL database, ingest would fail with
          SQLException. The cause was attempting to insert NULL
          into the column dsBindKeySeq when no value was specified
          in the object for this optional value. Oracle does not
          allow NULL for this column type so the code has been
          modified to insert zero("0") when dsBindKeySeq is not
          specified in the object.</p>
        </li>

        <li>
          <b>Editing object label containing apostrophe throws
          SQLException (Bugzilla #82)</b>

          <p>When attempting to edit an object's label containing
          an apostrophe, the server responds with SQLException. The
          apostrophe character is a special character that must be
          properly escaped in SQL INSERT statements. Object labels
          are now checked for special characters and properly
          escaped before issuing the SQL INSERT command.</p>
        </li>

        <li>
          <b>Oracle char(1) column types return with space padding
          (bugzilla #85)</b>

          <p>It was observed that when using Oracle as the
          underlying SQL database, column types of char(1) would
          return with space padding which could result in errors
          downstream. This was not the case with McKoi or MySQL.
          The fix was to change the db schema column type to use
          varchar(1) instead of char(1) everywhere in the db
          schema.</p>
        </li>
        <li>
          <b>Object label containing ampersand character throws
          Exception when attempting to disseminate getObjectProfile
          method (bugzilla #86)</b>

          <p>It was observed that creating an object with a label
          containing the ampersand character would later cause the
          dissemination of the getObjectProfile method to fail. This
          resulted from special characters, like the ampersand 
          character, not being properly escaped when written to
          dynamically generated xml served by Fedora. XML special
          characters are now properly escaped before being written
          to the outgoing xml stream so ampersands and other special
          xml characters can safely be included in object labels.</p>
        </li>        
      </ol>
    	<hr>
		<p>&nbsp;</p>
    </div>
  </div>
  
  <!-- Inserted Release Notes from Fedora 1.2.1 -->

  <div>
    <h1 style="clear: both"><a name="rel1.2.1" id=
    "rel1.2.1"></a>3. Release 1.2.1 (Bug Fix Release) - April 19,
    2004</h1>
  </div>

  <p>Fedora 1.2.1 provides fixes to several bugs that were reported
  by users of Fedora 1.2. The new release is backward compatible
  with Fedora 1.2 and contains no changes to the underlying
  database schema.</p>

  <div class="sec2">
    <div class="titlepage">
      <div>
        <h3 class="title"><a name="d0e48" id=
        "d0e48"></a>IMPORTANT!! - Migrating From Fedora Releases
        Prior to Fedora 1.2</h3>
      </div>
    </div>

    <p>Users wishing to migrate from releases prior to Fedora 1.2
    need to follow the steps outlined in <a href="#rel1.2">Release
    1.2 - December 15, 2003</a> and migrate to version 1.2 BEFORE
    attempting migration to Fedora 1.2.1.</p>
  </div>

  <div class="sec2">
    <div class="titlepage">
      <div>
        <h3 class="title"><a name="d0e55" id="d0e55"></a>Migrating
        From Fedora 1.2 to Fedora 1.2.1</h3>
      </div>
    </div>

    <p>If you are upgrading from Fedora 1.2:</p>

    <div class="itemizedlist">
      <ul type="disc">
        <li>
          <p>Shut down your existing repository using the
          fedora-stop command.</p>
        </li>

        <li>
          <p>If you are using mysql, look at the new installation's
          config/fedora.fcfg file. Find the line that contains the
          word "autoReconnect". Open your old config/fedora.fcfg
          file and edit the jdbcURL parameter so it ends similarly
          (with "&amp;amp;autoReconnect=true").</p>
        </li>

        <li>
          <p>Copy your old config/fedora.fcfg over the new one.</p>
        </li>

        <li>
          <p>If you were using the bundled mckoi database with your
          previous installation, stop it with mckoi-stop. Then go
          to the mckoi094 directory in the new release and create a
          directory there called "data". Next, copy all
          mckoi094/data files from your previous installation to
          the NEW mckoi094/data directory. (If you previously
          modified the db.conf file, copy that over to the new
          mckoi094 directory, too)</p>
        </li>

        <li>
          <p>Update your FEDORA_HOME environment variable to point
          to the new installation's location.</p>
        </li>

        <li>
          <p>Update your PATH to point to the new
          FEDORA_HOME/client/bin and FEDORA_HOME/server/bin
          directories.</p>
        </li>

        <li>
          <p>If you are using mckoi, start it now with
          mckoi-start.</p>
        </li>

        <li>
          <p>Start the server as you normally would, with
          fedora-start.</p>
        </li>
      </ul>
    </div>
  </div>

  <div class="sec2">
    <div class="titlepage">
      <div>
        <h3 class="title"><a name="d0e85" id="d0e85"></a>BUG
        FIXES:</h3>
      </div>
    </div>

    <div class="sec3">
      <div class="titlepage">
        <div>
          <h4 class="title"><a name="d0e88" id="d0e88"></a>1.
          Errors in installation document regarding source
          installations. (Bugzilla # 3)</h4>
        </div>
      </div>

      <p>The installation document has been updated to say that the
      JAVA_HOME environment variable must be set prior to
      installing the source distribution since ant requires this
      environment variable to perform the build. A typographical
      error regarding changing the permissions on the ant
      executables has been corrected to read: "This can be done
      with the command: chmod 755 $FEDORA_DEV/res/ant/bin/*."</p>
    </div>

    <div class="sec3">
      <div class="titlepage">
        <div>
          <h4 class="title"><a name="d0e93" id="d0e93"></a>2. Admin
          GUI client - Purge Failure error message text does not
          wrap. (Bugzilla # 5)</h4>
        </div>
      </div>

      <p>When an error is encountered while attempting to purge an
      object, the error message displayed in the message pane does
      not properly wrap and scrolls off the edge of the window.
      This has been modified to properly wrap the message text so
      the complete message is visible regardless of length.</p>
    </div>

    <div class="sec3">
      <div class="titlepage">
        <div>
          <h4 class="title"><a name="d0e98" id="d0e98"></a>3. Admin
          GUI client - Purging object does not close object paneI
          in ObjectEditor. (Bugzilla # 6)</h4>
        </div>
      </div>

      <p>When viewing an object using the ObjectEditor and then
      clicking the purge button, the object is removed from the
      repository, the object pane remains on the screen. The admin
      GUI client has been modified so that the object pane is now
      closed when the object is purged.</p>
    </div>

    <div class="sec3">
      <div class="titlepage">
        <div>
          <h4 class="title"><a name="d0e103" id="d0e103"></a>4.
          Admin GUI client - New Dialog Enhancement Request .
          (Bugzilla # 7)</h4>
        </div>
      </div>

      <p>In the New object creation dialog, one enters label text
      and content model text and clicks "create" to ingest the
      object. Pressing the ENTER key instead of clicking the
      "create" button has no affect. This has been changed so
      pressing the ENTER key now has the same result as clicking
      the "create" button on NewObjectDialog pane.</p>
    </div>

    <div class="sec3">
      <div class="titlepage">
        <div>
          <h4 class="title"><a name="d0e108" id="d0e108"></a>5. OAI
          day-granular "until" parm taken as midnight beginning
          that date. (Bugzilla # 9)</h4>
        </div>
      </div>

      <p>For OAI requests, the code interprets both "from" and
      "until" parms (which both have day-granularity) as meaning
      <span class="emphasis"><em>midnight beginning that
      date</em></span>. This is correct for the "from" parm only.
      The day-granularity "until" parm should be interpreted as
      "23:59:59pm ending that date". That way, an OAI request with
      equal day-granular "from" and "until" parms will return
      records for that date. Changes have been made regarding the
      way that the OAI "until" date parm is handled when using
      "Day" granularity. If Day granularity is being used, the date
      value for the Until date parm is modified to be Day +
      23:59:59. This means that when using Day granualrity,
      specifying the same Day for both "from" and "until" date
      parms will result in matching all dates between 00:00:00 and
      23:59:59 on that day.</p>
    </div>

    <div class="sec3">
      <div class="titlepage">
        <div>
          <h4 class="title"><a name="d0e116" id="d0e116"></a>6.
          Admin GUI client - Export dialogs are incomplete under
          MAC OSX implementation. (Bugzilla # 10)</h4>
        </div>
      </div>

      <p>This problem shows up only on MACs in exports from an
      opened object. In contrast, the dialogs from both File and
      Export submenus (export one object, export by type) do work
      correctly, as with Windows. These correct cases are where the
      filename is selected programmatically (i.e., pid.xml).
      Exports from an opened object (either to export the object as
      xml or to export a datastream of the object) give dialog
      boxes which lack filename fields so the user has no
      opportunity to select the filename. Navigating with the
      dialogue to a directory with an existing file needs to match
      the needed mimetype, and selecting that file will result in
      overwriting that file's contents with either the object xml
      or the datastream contents, but without changing the
      filename. The JFileChooser dialog was not allowing entry of
      filenames in cases where that should be possible. The
      workaround was to, for these specific cases, default to the
      platform's native file dialog by using java.awt.FileDialog.
      Note that using the platform's native dialog is not a
      solution for all file dialog-related actions. JFileChooser
      still needs to be used in some cases because it has an option
      to only allow the choosing of directories, whereas FileDialog
      is limited in this regard.</p>
    </div>

    <div class="sec3">
      <div class="titlepage">
        <div>
          <h4 class="title"><a name="d0e121" id="d0e121"></a>7.
          Admin GUI client - Log file generated when ingesting
          objects by type is incorrectly persistent. (Bugzilla #
          11)</h4>
        </div>
      </div>

      <p>When performing multiple ingest objects by type operations
      in the same admin client session, the log file displayed for
      subsequent ingest objects all show the log file from the
      initial ingest object operation. Closing the admin client
      between ingest object operations produces the expected
      results. This behavior is a result of the code checking to
      see if the log PrintStream is null to decide if a new log
      file is to be generated. If null, a new log is generated,
      otherwise it assumes there is an existing log to be
      displayed. Although the closeLog method in
      fedora.client.ingest.Ingest closes the log
      PrintStream(s_log), it does not get immediatley garbage
      collected so can have a non-null value for some time period
      after being closed. The code has been modified to explicitly
      set the PrintStream to null after being closed to resolve
      this issue.</p>
    </div>

    <div class="sec3">
      <div class="titlepage">
        <div>
          <h4 class="title"><a name="d0e126" id="d0e126"></a>8.
          Admin GUI client - After deleting disseminator using
          ObjectEditor, the bdef drop down list is not refreshed.
          (Bugzilla # 12)</h4>
        </div>
      </div>

      <p>If you open an existing object, delete a disseminator,
      then try to re-build the disseminator in the same session,
      the drop down list of behavior definitions does not include
      the bdef that was associated with the disseminator that was
      just deleted. If you exit the object editor after deleting
      the disseminator, then re-open the object in the editor, then
      the bdef becomes available again in the drop down. The code
      has been updated to refresh NewDisseminatorPane after a purge
      so the bdef used by the purged disseminator is visible once
      again in the drop down list of bdefs.</p>
    </div>

    <div class="sec3">
      <div class="titlepage">
        <div>
          <h4 class="title"><a name="d0e131" id="d0e131"></a>9.
          Fedora search not accepting underscores. (Bugzilla #
          13)</h4>
        </div>
      </div>

      <p>The use of the underscore (_) character in Fedora searches
      generates an error that varies depending on the sql database
      being used. There was some obsolete code involving the syntax
      of the WHERE clause for Search queries where a special string
      " { escape '/'} " was appended to the end of any WHERE clause
      search string containing special characters that required
      escaping according to the SQL92 syntax rules. This code is no
      longer required and has been removed so underscores in
      searches no longer produce an error.</p>
    </div>

    <div class="sec3">
      <div class="titlepage">
        <div>
          <h4 class="title"><a name="d0e136" id="d0e136"></a>10.
          WSDL documentation - Inline wsdl docs for
          api-m.ingestObject mention incorrect state. (Bugzilla #
          14)</h4>
        </div>
      </div>

      <p>The wsdl docs inside the Fedora-API-M.wsdl file say that
      upon ingest, an object's original state is "N", which is
      wrong. It should be "A". The comments in API-M.wsdl for
      ingestObject and createObject have been updated to reflect
      that the initial state of object is set to "A".</p>
    </div>

    <div class="sec3">
      <div class="titlepage">
        <div>
          <h4 class="title"><a name="d0e141" id="d0e141"></a>11.
          API-M addDisseminator method - addDisseminator method
          fails to update sql db when more than one pre-existing
          disseminator. (Bugzilla # 16)</h4>
        </div>
      </div>

      <p>When creating an object using the admin GUI client that
      has one or more existing disseminators, adding a new
      disseminator adds the disseminator to the object xml, but
      fails to properly replicate the disseminator in the sql
      database. This was a bug in DefaultDOReplicator that caused
      improper updating of the sql database in the case where a new
      disseminator was added to a data object, via the
      addDisseminator method of API-M, where the object had one or
      more pre-existing disseminator(s). The result was a mismatch
      between the xml representation of the object and the sql
      database representation. This problem has been corrected.</p>
    </div>

    <div class="sec3">
      <div class="titlepage">
        <div>
          <h4 class="title"><a name="d0e146" id=
          "d0e146"></a>12.Admin GUI client - List of MIME types for
          XMLMetadata displays types other than text/xml when
          adding multiple datastreams. (Bugzilla # 17)</h4>
        </div>
      </div>

      <p>In the Admin GUI client, the MIME type drop down menu
      should only list text/xml when the XMLMetadata radio button
      is checked. This is true when the "new Datastream" button is
      clicked for the first datastream. However, if the datastream
      is saved, and another new datastream added, the MIME type
      list shows MIME types other than text/xml when the
      XMLMetadata radio button is checked. The code has been
      modified so that only MIME tpyes of text/xml are displayed
      for datastreams of type XMLMetadata.</p>
    </div>

    <div class="sec3">
      <div class="titlepage">
        <div>
          <h4 class="title"><a name="d0e151" id="d0e151"></a>14.
          Demo Objects - Label for DC datastream of demo object
          obj-ead-finding-aid.xml incorrect. (Bugzilla # 20)</h4>
        </div>
      </div>

      <p>The demo object (demo:17) for the Rita Mae Brown finding
      aid has an incorrect label when you do a viewItemIndex. The
      DC record's label is shown as "DC Record for Pavillion III
      Architectural image object" which is wrong. However, when you
      click on that link, the underlying xml looks correct. The
      label for demo object demo:17 has been corrected.</p>
    </div>

    <div class="sec3">
      <div class="titlepage">
        <div>
          <h4 class="title"><a name="d0e156" id="d0e156"></a>15.
          Search - resumeFindObjects skips next result in sequence.
          (Bugzilla # 21)</h4>
        </div>
      </div>

      <p>When displaying search results that spanned more than one
      screen, the search interface will skip over the first entry
      on the next screen. For example, if the maximum number of
      search hits to display is 10 and there are 30 hits, the
      search will display hits 1-10, then 12-21, and then 23-30
      omitting hits 11 and 22. This was a bug in
      fedora.server.search.FiledSearchResultSQLImpl where the
      cursor in the ResultSet was being positioned incorrectly when
      there are more results to display than the specified
      maxResults value. The cursor is now correctly positioned and
      all hits are displayed.</p>
    </div>

    <div class="sec3">
      <div class="titlepage">
        <div>
          <h4 class="title"><a name="d0e161" id="d0e161"></a>16.
          Admin GUI client - Adding/removing datastream bindings in
          Admin GUI client result in broken disseminations.
          (Bugzilla # 24)</h4>
        </div>
      </div>

      <p>Removing and then re-adding a datastream binding in admin
      gui for a disseminator breaks the dissemination for that
      disseminator. XML representation of the object appears
      correct, but disseminations handled through sql database are
      broken. This was a bug in
      fedora.server.storage.DefaultDOReplicator that had to do with
      the improper updating of dsBind table when the binding map of
      an existing object was altered. The xml was correct after the
      update, but replication was incomplete on the sql database.
      The end result before the fix was an incomplete update of the
      dsBind table which had the effect of breaking disseminations
      for that object because of missing bindings in dsBind table.
      This has been corrected.</p>
    </div>

    <div class="sec3">
      <div class="titlepage">
        <div>
          <h4 class="title"><a name="d0e166" id="d0e166"></a>17.
          Admin GUI client -The state of datastreams is reset to
          Active in sql db when binding datastreams to a
          disseminator. (Bugzilla # 25)</h4>
        </div>
      </div>

      <p>If a datastream has a state other than Active and it is
      bound to a disseminator or if already bound and the binding
      is removed/re-added, the state of the associated datastream
      is reset in the sql db to Active. This was a bug in
      fedora.server.storage.DefaultDOReplicator that had to do with
      the updating of dsBind table when creating or modifying
      datastream bindings. The datastream state is correct in the
      xml, but the replication is incorrect in the sql database.
      Before the fix, the state of the updated bindings was always
      being set to "A" so if the state of a datastream was other
      than "A" and a binding that used that datastream was
      created/modified, the state in the sql database was reset to
      "A". The state of the datastream in the xml is now used to
      set the state when creating or updating a binding map. This
      guarantees that the state in dsBind table will always be the
      sameas that of datastream in xml.</p>
    </div>

    <div class="sec3">
      <div class="titlepage">
        <div>
          <h4 class="title"><a name="d0e171" id="d0e171"></a>18.
          Batch Utiltity - Sample mets-template.xml used in batch
          utility demo contains metadata wrapper errors. (Bugzilla
          # 25)</h4>
        </div>
      </div>

      <p>Some of the METS metadata wrapper elements in the
      mets-template.xml example file used with the batch utility
      are incorrect. e.g., administrative source metadata is in a
      techMD wrapper element. The typographical errors have been
      corrected in the sample template file.</p>
    </div>

    <div class="sec3">
      <div class="titlepage">
        <div>
          <h4 class="title"><a name="d0e176" id="d0e176"></a>19.
          Oracle open_cursor limit exceeded (Bugzilla # 29)</h4>
        </div>
      </div>

      <p>Users implementing Fedora with Oracle reported that the
      database would hang when attempting deletes of large numbers
      of objects. The database hang was the result of exceeding the
      open_cursor limit set by the database. This problem has only
      been reported with Oracle. There are apparently some subtle
      differences between the various JDBC drivers and how they
      handle cleanup when a ResultSet or Statement is closed. The
      JDBC code has been modified to better handle these variations
      and address the open_cursor problem for Oracle users.</p>
    </div>

    <div class="sec3">
      <div class="titlepage">
        <div>
          <h4 class="title"><a name="d0e181" id="d0e181"></a>20.
          FedoraMets ID lengths - ID lengths silently ignored.
          (Bugzilla # 30)</h4>
        </div>
      </div>

      <p>Fedora stores the definitive copy of objects as xml, but
      for performance also replicates a copy of objects in an sql
      database. With xml, there are no limitations on the length of
      attribute values or content. However, the sql database does
      impose field lengths which restrict the length of identifiers
      and labels. Users reported the truncation of some identifers
      in the sql database as a result of having identifier strings
      in the xml that exceeded the database schema field lengths.
      The xml validation code has been modified to verify the
      length of Fedora identifiers. Exceptions are now thrown at
      ingest time if any identifiers in the xml exceed the field
      lengths specified for those fields in the database schema.
      Currently, the validation is only applied to identifiers.
      Descriptive fields like labels, will be be truncated if they
      exceed the database schema field lengths. We will consider
      extending the validation checking to labels in the next
      release.</p>
    </div>
  </div>

  <div class="sec1">
    <div class="titlepage">
      <div>
        <h2 class="title" style="clear: both">&nbsp;</h2><hr>
		<h2 class="title" style="clear: both">&nbsp;</h2>
		<h1 style="clear: both"><a name="rel1.2" id=
        "rel1.2"></a>4. Release 1.2 - December 15, 2003</h1>
      </div>
    </div>

    <p>This new release contains a number of significant new
    features, including content versioning, the complete
    implementation of the Fedora Management interface, and major
    additions to the Fedora Administrator client to enable object
    creation and editing. With the advent of content versioning,
    the Fedora Access interfaces now support date-time stamped
    requests, so that a client can "go back in time" and see a
    digital object as it looked in the past. Additionally, this
    release provides a migration utility for mass export and mass
    ingest of objects from either directories or other
    repositories. The migration utility enables the moving of
    objects from older versions of Fedora repositories into the
    lastest version. It also is of general utility for copying or
    moving objects among repositories, for unloading repositories,
    and for bulk ingest of objects.</p>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e191" id=
          "d0e191"></a>IMPORTANT!!! Upgrading From a Previous
          Release of Fedora</h3>
        </div>
      </div>

      <p>Although Fedora 1.2 is backward compatible with previous
      versions of Fedora at the interface definition level, there
      are changes to the underlying database schema that require
      digital objects to be migrated from an old Fedora
      installation to the new Fedora installation. If you want to
      keep digital objects from an old repository and migreate them
      to the new Fedora 1.2 repository, you must run the migration
      utility provided with Fedora 1.2. DO NOT INSTALL FEDORA 1.2
      ON TOP OF THE PREVIOUS RELEASE. To upgrade from a previous
      release and migrate digital objects into the new repository
      follow these steps:</p>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e196" id="d0e196"></a>
            <span class="emphasis"><em>STEP 1 -
            INSTALLATION:</em></span></h4>
          </div>
        </div>

        <p>Follow the steps outlined in the <a href=
        "../distribution/installation.html" target="_top">Fedora
        Installation Guide.</a> If you plan to migrate digital
        objects from a repository that is a previous version of
        Fedora, be sure to configure the new Fedora 1.2
        installation to run in parallel to the existing
        installation. After the new Fedora 1.2 is installed, you
        will run a migration utility that will unload all objects
        from your old repository and ingest them into your new
        repository. <span class="emphasis"><em>If you are
        installing Fedora 1.2 on the same machine as a previous
        version, make sure to set the following configurations for
        the Fedora 1.2 installation:</em></span></p>

        <div class="sec4">
          <div class="titlepage"></div>

          <p>1. install Fedora 1.2 into a different directory than
          the previous installation (set $FEDORA_HOME environment
          variable accordingly)</p>

          <p>2. initialize a new database for Fedora 1.2 using the
          database configuration scripts which are set up with new
          defaults. If using MySQL, run mysql-config.bat (.sh for
          unix) with the new default database name of "fedora12"
          (or your own new database name that differs from the name
          used in your pre-existing Fedora installation. For McKoi,
          run the mkoi-init.bat (.sh for unix) which has a new
          default port number for Fedora 1.2.</p>

          <p>3. set a different port for Fedora 1.2 to run on
          (fedoraServerPort in the Fedora config file
          fedora.fcfg)</p>

          <p>4. set a different shutdown port for Fedora 1.2
          (fedoraShutdownPort)</p>

          <p>5. set a different redirect port for Fedora 1.2
          (fedoraRedirectPort)</p>

          <p>6. set a different storage path for digital objects
          (object_store_base)</p>

          <p>7. set a different storage path for datastreams
          (datastream_store_base)</p>

          <p>8. set a different storage path for temporary files
          (temp_store_base)</p>

          <p>9. set the Fedora 1.2 repository to allow the PIDs
          from the old repository to be accepted (add namspaces to
          retainPIDs in fedora.fcfg)</p>

          <p>10. if the OLD Fedora installation is running on
          <span class="emphasis"><em>a different
          machine</em></span>, modify the fedora configuration file
          of the OLD Fedora installation to requests to be made by
          the new Fedora 1.2 repository. (Add IP address of Fedora
          1.2 repository to allowHosts in fedora.fcfg of OLD
          repository.)</p>
        </div>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e234" id="d0e234"></a>
            <span class="emphasis"><em>STEP 2 -
            MIGRATION:</em></span></h4>
          </div>
        </div>

        <p>Follow the instructions in the <a href=
        "../distribution/migration.html" target="_top">Fedora
        Migration Utility Guide.</a> to migrate digital objects
        from your previous Fedora installation to the new Fedora
        1.2 repository. The new repository migration utility is
        provided with Fedora 1.2 to easily perform a mass export
        and mass ingest of objects from the old repository to the
        new repository. The repository migration utility can copy
        or move objects among Fedora 1.1, Fedora 1.1.1, and Fedora
        1.2 repositories. <span class="emphasis"><em>If you are
        upgrading from Fedora 1.0, please first upgrade to Fedora
        1.1 before installing Fedora 1.2 since the migration
        utility does not work with Fedora 1.0.</em></span></p>
      </div>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e248" id="d0e248"></a>NEW
          FEATURES:</h3>
        </div>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e251" id="d0e251"></a>1.
            Fedora Management Interface (fully implemented).</h4>
          </div>
        </div>

        <p>In Fedora 1.2 all operations of the Fedora management
        interface (API-M) are implemented. Operations for creating,
        modifying, inactivating, and deleting components of digital
        objects (i.e., Datastreams and Disseminators) are now
        available in the management web service via SOAP
        bindings.</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e256" id="d0e256"></a>2.
            Content Versioning.</h4>
          </div>
        </div>

        <p>The Fedora content versioning system is enabled with the
        release of Fedora 1.2. Now, any modifications made to a
        Datastream or Disseminator through the Fedora management
        interface (API-M) will automatically result in a new
        version of that Datastream or Disseminator being created by
        Fedora. The Fedora repository maintains all versions of all
        Datastreams and Disseminators, thereby creating a history
        of how objects change over time. Additionally, Fedora
        maintains an audit trail record of the nature of the object
        change events (e.g., who, what, when, why).</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e261" id="d0e261"></a>3.
            Fedora Administrator - Object Editor and Version
            Viewer.</h4>
          </div>
        </div>

        <p>The new content versioning features can be easily
        accessed via new menu items in the Fedora Administrator
        client. The new object editor features (i.e., File/New,
        File/Open) provide the ability to create and maintain
        digital objects through a graphical user interface. Using
        these menu items, the user can create a new digital object,
        as well as add/modify/delete Datastreams and Disseminators,
        and view the different versions of these components. For
        details see the <a href="../client/admin-gui/index.html"
        target="_top">Fedora Administrator Client documentation</a>
        and the <a href="../server/versioning.html" target=
        "_top">Fedora Content Versioning documentation.</a></p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e272" id="d0e272"></a>4.
            Date-Time-stamped Access Requests.</h4>
          </div>
        </div>

        <p>Building on the capabilities of the new content
        versioning features, the Fedora repository will now support
        time-stamped disseminations and API-A requests. This
        enables a client accessing Fedora to be able to request a
        view of a digital object as it looked at a particular point
        in time. The syntax for using date-time in access requests
        is documented in the <a href=
        "../client/servlet/soapclient/index.html" target=
        "_top">Client Documentation for API-A</a> and <a href=
        "../client/browser/apialite/index.html" target=
        "_top">API-A-Lite</a> as well as in the <a href=
        "http://www.fedora.info/definitions/1/0/api/" target=
        "_top">WSDL API documents.</a></p>

        <p>The algorithm Fedora uses to evaluate date-time-stamped
        requests is an "as of date" approach, meaning that the
        repository will return a view of content as it looked "as
        of" a particular date-time. The date-time stamp provided by
        the client is interpreted by Fedora as a "ceiling"
        threshold. As such, the repository will evaluate the
        version dates on Datastreams and Disseminators and return
        the view of content that is as close to the requested
        date-time without being greater than the requested
        date-time.</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e288" id="d0e288"></a>5.
            Migration Utility.</h4>
          </div>
        </div>

        <p>A new migration utility is provided to perform mass
        export and mass ingest of objects. At the core, the
        migration utility is built upon two newly enhanced
        command-line functions: fedora-export and fedora-ingest.
        Used together, these two command line functions can support
        a variety of scenarios involving moving or copying objects
        between repositories. The utility is general-purpose in
        that it can be used to copy or move objects among
        repositories for many reasons including upgrading from
        previous releases of Fedora. Client access to the migration
        comes in two forms: (1) run fedora-export and fedora-ingest
        at the command line, or (2) use the Fedora Administrator
        client to invoke these functions (see menu items
        File/Ingest and File/Export). Please consult the <a href=
        "../distribution/migration.html" target="_top">Fedora
        Migration Utility Guide.</a> to learn how to use the new
        migration functionality.</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e296" id="d0e296"></a>6.
            Externally-generated PIDs Accepted by Repository.</h4>
          </div>
        </div>

        <p>A Fedora repository will now accept PIDs that are
        externally generated. To enable this feature, the
        repository administrator must modify the "retainPIDs"
        configuration variable in the Fedora repository
        configuration file (fedora.fcfg). The "retainPIDs" variable
        is a configurable parameter on the DOManager module. It
        defines the set of PID namespaces that the repository will
        retain during digital object ingest. If the repository
        receives an ingest request for a digital object, and a PID
        is provided (i.e., in the ingest XML), the PID will be
        accepted by the repository as the official PID of the
        digital object if the namespace of the PID is listed in the
        retainPIDs configuration variable. If the namespace is not
        found in the retainPIDs variable, the repository will
        generate a new PID for the digital object (and disregard
        any PID that may have been provided).</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e301" id="d0e301"></a>7.
            PID Generation via Management Interface
            (getNextPID).</h4>
          </div>
        </div>

        <p>In Fedora 1.2 the PID generation module has been exposed
        in the Fedora Management web service. Formerly, the PID
        generator was an internal module accessible only by other
        modules in the Fedora code base. Now, client can use the
        getNextID operation to request new PIDs from the
        repository. This is helpful in certain workflows where it
        is necessary to know ahead of time the PIDs of digital
        objects that are yet to be ingested into the repository,
        and there is a desire to have Fedora generate these PIDs.
        The getNextPID operation is part of the Fedora Management
        interface. At this time, the operation is exposed
        exclusively as a REST-oriented binding, meaning there is a
        specific URL syntax for requesting PIDs. See the <a href=
        "http://www.fedora.info/definitions/1/0/api/#apimlite"
        target="_top">WSDL API Documentation for
        API-M-Lite.</a></p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e309" id="d0e309"></a>8.
            Fedora Administrator - Behavior Definition/Mechanism
            Builders.</h4>
          </div>
        </div>

        <p>A number of enhancements have been made to the Behavior
        Definition and Behavior Mechanism builders that are found
        within the Fedora Administrator client application (see the
        Builders menu).</p>

        <div class="sec4">
          <div class="titlepage"></div>

          <p><span class="emphasis"><em>a. Service profile for
          Behavior Mechanism Objects.</em></span> A tab pane for
          entering metadata about the service that is represented
          by a Behavior Mechanism object is now available. The
          service profile metadata consists of information about
          the technologies that underlie the service, the valid
          input and output formats of the service, and other
          technical metadata.</p>
        </div>

        <div class="sec4">
          <div class="titlepage"></div>

          <p><span class="emphasis"><em>b. Selection of behavior
          contract for a Behavior Mechanism Objects.</em></span> A
          drop-down list of all the Behavior Definition objects in
          the connected repository is provided in the Behavior
          Mechanism builder. The user can select a Behavior
          Definition as the behavior contract when building
          Behavior Mechanism objects. The methods defined by the
          Behavior Definition objects are pre-loaded into the
          builder tool to assist in building a Behavior Mechanism
          object.</p>
        </div>

        <div class="sec4">
          <div class="titlepage"></div>

          <p><span class="emphasis"><em>c. Various
          enhancements.</em></span> Help buttons, better table
          entry for Dublin Core records, better management of
          dialog windows (e.g., no lost windows outside of main
          frame), minor bug fixes, and cosmetics.</p>
        </div>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e332" id="d0e332"></a>9.
            Fedora Administrator - Batch Utility enhancement.</h4>
          </div>
        </div>

        <p>A log file is now produced for all output of the batch
        processing. Formerly, the results of batch processing
        initiated through Fedora Administrator were sent to the
        screen and could not be saved. Log files are deposited in a
        new directory at FEDORA_HOME/client/logs.</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e337" id="d0e337"></a>10.
            Fedora Administrator - Easier purge for multiple
            objects.</h4>
          </div>
        </div>

        <p>A minor enhancement has been made to the Repository
        Search/Browse tool that allows multiple objects to be
        selected from search results and to be purged without the
        user being required to enter a log message for each object.
        Now a single message can be entered for the whole set of
        objects, and the purge is activated over the whole selected
        set.</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e342" id="d0e342"></a>11.
            XML schemas for all Fedora-generated XML.</h4>
          </div>
        </div>

        <p>All XML formats that are used as to encode the results
        of Fedora API-A-LITE requests are now expressed as XML
        Schema. These schema files are located in the
        FEDORA_HOME\dist\server\xsd directory, and are also
        referenced in the schemaLocation attribute on the root
        element of Fedora XML responses.</p>
      </div>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e347" id="d0e347"></a>BUG
          FIXES:</h3>
        </div>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e350" id="d0e350"></a>1.
            Ingest exception "unknown protocol c" in Windows
            XP.</h4>
          </div>
        </div>

        <p>Under rare conditions in some Windows XP installations,
        an obscure exception is thrown during object ingest that
        reports "unknown protocol c." This bug was traced to the
        digital object validation module, specifically in the
        Schematron validation phase (see
        DOValidatorSchematron.java). The problem had to do with
        instantiation of stylesheets. In previous versions of
        Fedora, the Schematron preprocessing stylesheet was
        configured in the repository using a local file path to a
        location in the Fedora server (see fedora.fcfg). In some of
        the XP installations of Fedora, the XSLT processor had
        problems instantiating an XSLT stylesheet whose input
        location was defined with a file path. The problem was
        fixed by ensuring that all stylesheets are instantiated in
        a StreamSource object via a URL instead of file path.</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e355" id="d0e355"></a>2.
            Failure on database connections with MySQL
            3.23.53-3.23.58 on Windows.</h4>
          </div>
        </div>

        <p>In particular older versions of MySQL on the Windows
        platform there is a problem related to case sensitivity in
        database names that prevents database connections.
        Specifically, if a database is configured (e.g., via the
        Fedora mysql-config script) with a database name that is
        mixed upper and lower case characters, the database will
        not be recognizable at runtime. In these older versions of
        MySQL, the mixed case database name is accepted at
        configuration time, and loaded into the MySQL system
        tables. However, MySQL then creates the actual database
        directory on the filesystem with all lower case. Thus, at
        runtime, there is a mismatch between what's listed in the
        MySQL system table and what's on the file system. In these
        offending versions of MySQL, the database is not found due
        to this case sensitivity problem. The work-around for this
        is to use all lower case characters in the database name
        (e.g., "fedoraobjects" ) when performing the database
        configurations. However, since the problem is fixed in
        Windows MySQL 4.x and later, it is recommended that Fedora
        administrators install the latest production version of
        MySQL (currently 4.0.16).</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e360" id="d0e360"></a>3.
            Datastream size limit problem via Default Disseminator
            requests.</h4>
          </div>
        </div>

        <p>Access to Datastreams via the Default Disseminator
        methods could fail for very large Datastreams in
        repositories running with limited memory. The problem was
        traced to sections of code in DefaultBehaviorImpl where the
        Datastream content was being passed as a byte array instead
        of as an InputStream. All code now streams content via
        InputStream classes.</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e365" id="d0e365"></a>4.
            Concurrent ingest failure.</h4>
          </div>
        </div>

        <p>When two clients were simultaneously ingesting objects
        into a repository, an ingest failure would occur if the
        ingest requests hit the repository at exactly the same
        time. The exception reported by Fedora was that
        "temp-ingest already exists" which means that the temporary
        PID named "temp-ingest" was already in use. The problem was
        fixed by having all temporary PIDS appended with a
        date-time stamp, rendering them unique within a running
        repository instance. Now multiple concurrent client
        processes can run ingests against the repository.</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e370" id="d0e370"></a>5.
            ConcurrentModificationException on API-A-LITE.</h4>
          </div>
        </div>

        <p>This has shown up periodically when clients are running
        searches via API-A-LITE. The problem was traced to a part
        of the code that was cleaning up stale search sessions.
        Java throws a ConcurrentModificationException exception
        when you are iterating over something and trying to change
        it at the same time. The solution was to build a separate
        list of to-be-deleted items while iterating through the
        session list, and then, when finished, remove the
        appropriate items from the session list.</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e375" id="d0e375"></a>6.
            OAI provider service not escaping characters
            properly.</h4>
          </div>
        </div>

        <p>Fedora OAI provider service was not escaping internal
        entities (e.g., ampersands). For example, if the Dublin
        Core record contains an ampersand, the OAI output only
        produced a single ampersand character instead of the
        escaped encoding. This is now fixed and entities are
        properly escaped.</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e380" id="d0e380"></a>7.
            Dissemination of Inactive or Deleted Datastreams.</h4>
          </div>
        </div>

        <p>If a datastream had a non-active state, it was still
        able to be disseminated via API-A and API-A-Lite. Inactive
        or deleted datastreams are not intended to be exposed via
        the Fedora Access interfaces. However, inactive datastreams
        are always discoverable via the Fedora Management
        interface. In this new release, only active (state="A")
        datastreams will be exposed via API-A and API-A-Lite. If a
        dissemination is run that involves a non-active datastream,
        the repository will throw an exception and provide a
        meaningful message.</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e385" id="d0e385"></a>8.
            Possible Database Corruption as Result of Purging
            Objects.</h4>
          </div>
        </div>

        <p>Due to the way the relational database for the object
        cache was normalized, there was the potential for database
        corruption to occur in certain cases of purging objects.
        During purge, rows in the datastream binding map table
        could be inadvertently deleted during a purge object
        operation when there were still other objects depending on
        those rows. New referential integrity checks have been put
        into the database replication module to ensure that this
        will not occur.</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e390" id="d0e390"></a>9.
            DateTimeStamp Using 12 Hour Clock Schema.</h4>
          </div>
        </div>

        <p>The format being used to initialize the DateTimeStamp
        was using the 12-hour clock setting instead of the 24-hour
        clock setting. This is fixed now and all DateTimeStamp
        values use the 24-hour clock format.</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e395" id="d0e395"></a>10.
            API-A Not Functional With Example Soap Client When
            Running On Different Host (12/2)</h4>
          </div>
        </div>

        <p>If the example soap client was installed on a different
        host than the Fedora server, API-A requests would fail to
        display the transformed xml-to-html results. This was
        caused by a typographical error in the name of the
        stylesheet parameter in soapclient properties file that
        conveyed the Fedora server hostname. This is fixed now and
        example soap client can be run on any host.</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e400" id="d0e400"></a>11.
            Mckoi-stop.sh Ignoring FEDORA_JAVA_HOME</h4>
          </div>
        </div>

        <p>Mckoi-stop.sh script was ignoring environment variable
        for FEDORA_JAVA_HOME. This is fixed now.</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e405" id="d0e405"></a>12.
            FedoraAccessSOAPClient Returns ServletException When
            Disseminating Datastreams of Type "Redirected"</h4>
          </div>
        </div>

        <p>Attempts to disseminate datastreams that are of type "R'
        caused the soap client servlet to throw ServletException.
        This was caused by a ServletOutputStream being closed
        prematurely in FedoraAccessSOAPServlet. This is fixed now
        and Redirected datastreams can be disseminated using the
        soap client.</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e410" id="d0e410"></a>13.
            Minor Bug Fixes to BDef/BMech Builder</h4>
          </div>
        </div>

        <p>Reworked bmech builder class action listeners to keep
        bmech template object update in memory for every change to
        tabpane. This fixes bug where ds binding keys don't stay
        updated properly in pre-load of dsinput pane. Also, various
        other improvements in validation. Fixed bug where methodURL
        fields for the method being created did not property clean
        out when change among radio buttons occured (to change the
        URL from service base, to local service, to multiserver).
        Previously if you started things off with a service
        baseURL, then entered the baseURL, then changed to a LOCAL
        service or multi-server, the baseURL would still be hanging
        out in the method URL fields.</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e415" id="d0e415"></a>14.
            ListDatastreamIDs in FastDOReader returns
            ClassCastException</h4>
          </div>
        </div>

        <p>A Datastream data type was being erroneously cast as a
        String which caused the Exception. This has now been fixed
        so that ListDatastreamIDs returns the appropriate list of
        datastream IDs.</p>
      </div>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e420" id="d0e420"></a>KNOWN
          ISSUES (and ways to avoid them):</h3>
        </div>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e423" id="d0e423"></a>1.
            Setting Object State on Ingest XML.</h4>
          </div>
        </div>

        <p>In a METS XML file used for ingest, object state is
        encoded on the RECORDSTATUS attribute of the METS header
        element. If this value is populated on the ingest file, the
        Fedora repository will accept it as is. Therefore, if the
        value of RECORDSTATUS is set to anything other than "A"
        (Active), the object will NOT be accessible via the Fedora
        Access interface. In other words, the object will not be
        considered active, and it will not be able to be
        disseminated. If objects are ingested in the inactive
        state, the state can be modified via the new object editor
        in the Fedora Administrator client (see menu item File/Open
        Object).</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e428" id="d0e428"></a>2.
            Bug in MySQL v4.0.12 on Linux causes database
            corruption.</h4>
          </div>
        </div>

        <p>The problem shows up only in Linux when running MySQL
        v4.0.12. Specifically, if a purgeDisseminator operation is
        run in the Fedora repository the problem is provoked.
        Normally, the purgeDisseminator operation removes a
        disseminator from a Fedora object XML store, and also
        initiates a replication process to make sure the
        disseminator is removed from the relational database object
        cache. Internal to the Fedora code, an SQL delete query is
        run via JDBC. The bug occurred when a the delete query was
        run. The query uses a where clause that should dependably
        evaluate to FALSE (i.e., "WHERE 1=2"), but in this
        particular version of MySQL under Linux, the query
        curiously and erroneously evaluates to TRUE. This
        particular query is intended to prevent certain rows from
        being deleted from the database. Instead rows are deleted
        resulting in referential integrity problems in the
        database. <span class="emphasis"><em>The solution to this
        problem is to upgrade to MySQL v4.0.14 or higher which does
        not have this bug!</em></span></p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e436" id="d0e436"></a>3.
            Field Search via API-A (SOAP binding) not backwards
            compatible.</h4>
          </div>
        </div>

        <p>Due to a type definition change in the WSDL for API-A,
        the SOAP binding for the field search operation (i.e.,
        findObjects) in not backward compatible across prior
        releases of Fedora. Thus, a search initiated via API-A
        (using SOAP) from a Fedora 1.2 client can not be fulfilled
        by a Fedora 1.1 or 1.0 server. In the WSDL for API-A, the
        findObjects operation defined a return type of
        fedora-types:FieldSearchResult (which is an array of
        fedora-types:ObjectFields). Formerly,
        fedora-types:ObjectFields defined an element named
        "locker." In Fedora 1.2, that element is now defined as
        "owner." Such interface changes are not accommodated by the
        Apache Axis library used to process SOAP requests. Fedora
        does not currently maintain different versions of its WSDL,
        so the change occurs in the "official" WSDL for the Fedora
        Access service. The problem can be bypassed by clients
        using the REST-oriented binding for the findObjects
        operation (see API-A-Lite in Fedora 1.2). The REST-oriented
        binding provides for a looser method binding, and allows
        the XML result be returned without type checking.</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e441" id="d0e441"></a>4.
            Behavior Mechanisms with SOAP Bindings Not Yet
            Supported.</h4>
          </div>
        </div>

        <p>(see release notes for Fedora 1.1).</p>
		<p>&nbsp;</p><hr>
		<p>&nbsp;</p>
      </div>
    </div>
  </div>

  <div class="sec1">
    <div class="titlepage">
      <div>
        <h1 style="clear: both"><a name="rel1.1.1"
        id="rel1.1.1"></a>5. Release 1.1.1 (Bug Fix Release) -
        September 5, 2003</h1>
      </div>
    </div>

    <p>Fedora 1.1.1 provides a fix for bugs detected by users of
    Fedora 1.1.</p>

    <p>The new release is backward compatible with Fedora 1.1. If
    you are updating from an earlier release, please refer to the
    release notes for Fedora 1.1 regarding backward compatibility
    issues and new features introduced in Fedora 1.1</p>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e454" id="d0e454"></a>BUG
          FIXES:</h3>
        </div>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e457" id="d0e457"></a>1.
            SQL DB Corruption During Datastream Modification</h4>
          </div>
        </div>

        <p>The bug was an errant update query for the SQL database
        that when modifying a datastream it had the potential for
        corrupting the SQL database dsBind table. It only got
        introduced when attempting to modify a Datastream using the
        View/EditDatastream menu option in the admin GUI. With this
        fix, the modifyDatastream command is safe to use.</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e462" id="d0e462"></a>2.
            OAI-PMH Unicode Support</h4>
          </div>
        </div>

        <p>OAI-PMH interface was not sending the correct HTTP
        Content-type header value to indicate the character
        encoding of the XML, and as a result, the Servlet that
        provides OAI-PMH functionality was not properly encoding
        the output in UTF-8.</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e467" id="d0e467"></a>3.
            API-M Managed Content Modification</h4>
          </div>
        </div>

        <p>It is now possible to change a managed content
        datastream's label without changing its content.
        Previously, the API-M method, modifyDatastreamByReference
        required that something was provided for the DSLocation.
        Now, if DSLocation is passed in a null or empty, the
        original datastream content will be used (no change).</p>
		<p>&nbsp;</p><hr>
		<p>&nbsp;</p>
      </div>
    </div>
  </div>

  <div class="sec1">
    <div class="titlepage">
      <div>
        <h1 style="clear: both"><a name="rel1.1" id=
        "rel1.1"></a>6. Release 1.1 (Bug Fix Release) - August 5,
        2003</h1>
      </div>
    </div>

    <p>Fedora 1.1 provides fixes to several bugs that were detected
    by users of Fedora 1.0. It also provides a new API-A method
    ("describeRepository") that enables a client to obtain
    information about the repository server.</p>

    <p>The new release is backward compatible with Fedora 1.0, with
    the exception of the Fedora server configuration file. If you
    are upgrading from Fedora 1.0, use you will need to enter your
    configuration values from the old Fedora 1.0 configuration file
    into the new configuration file provided with Fedora 1.1.</p>

    <p>Aside from this, the Fedora 1.1 software is compatible with
    pre-existing digital objects created in Fedora 1.0. There is no
    need to re-create or convert existing digital objects. Fedora
    1.1 can be configured to point at the existing file system
    location where Fedora 1.0 objects are stored, and to the
    existing relational database that contains information about
    the digital objects.</p>

    <p>** REMEMBER: Do NOT use the Fedora 1.0 server configuration
    file (fedora.fcfg) with the new Fedora 1.1 release.</p>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e483" id="d0e483"></a>NEW
          FEATURES:</h3>
        </div>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e486" id="d0e486"></a>1.
            New API-A Method For Repository Info.</h4>
          </div>
        </div>

        <p>The API-A and API-A-LITE interfaces now define and
        implement the "describeRepository" request. This request
        will provide information about the repository server
        including repository name, version, base URL, and other
        attributes. The repository information can be obtained in
        either XML or HTML formats.</p>

        <p>The API-A-LITE syntax is: <span class=
        "bold"><b>http://yourhost:yourport/fedora/describe</b></span></p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e496" id="d0e496"></a>2.
            Server Support For Self-Referential URLs.</h4>
          </div>
        </div>

        <p>The Fedora server now has internal support for avoiding
        breakage of self-referential URLs (i.e., URLs that contain
        the hostname and port of the Fedora server itself). This
        change allows the Fedora server host and port to be
        re-configured without breaking digital objects that
        contained URLs that referred to a previous host and port
        configuration. There are two places where self-referential
        URLs may exist: (1) in Behavior Mechanism Objects, where
        service bindings refer to a "local service" that runs
        within the repository server, and (2) in objects that
        contain a Datastream that references a dissemination of a
        digital object that is stored in the local repository.</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e501" id="d0e501"></a>3.
            New Source Code Revision Numbers.</h4>
          </div>
        </div>

        <p>Java Docs will now show the revision number generated
        from the Fedora CVS repository. These will not reflect the
        current Fedora software release number, but the actual
        version of the particular java source file. This will make
        it easier to determine whether a particular piece of code
        has changed from one Fedora release to another. For
        example, the source file FedoraAccessServlet.java has a
        release number of 1.58 as distributed within the Fedora 1.1
        software.</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e506" id="d0e506"></a>4.
            Suppression of Messages in Standard Out.</h4>
          </div>
        </div>

        <p>All non-essential debugging and logging messages were
        removed from standard out. All meaningful server messages
        are now sent to the Fedora server log file.</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e511" id="d0e511"></a>5.
            Oracle 9i Support.</h4>
          </div>
        </div>

        <p>The Fedora server now has support for Oracle 9i. See
        Fedora system documentation for details..</p>
      </div>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e516" id="d0e516"></a>BUG
          FIXES:</h3>
        </div>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e519" id="d0e519"></a>1.
            Failure of Batch Client Utility in UNIX
            Environment.</h4>
          </div>
        </div>

        <p>Specifically, a failure in running the Batch Build and
        Batch Build and Ingest menu items in the AdminGUI client
        when running the client in X-Windows. The batch utility
        could not correctly resolve file locations of
        object-specific files.</p>

        <p>REPORTED ERROR: Recoverable error.
        java.net.UnknownHostException</p>

        <p>FIX: The problem was traced to line 196 of
        fedora.client.batch.BatchXforms and has to do with the
        number of slashes in the file path (i.e., file:///).
        Solaris (and perhaps UNIX in general) wants only 2-trailing
        slashes instead of three. Places in the code where this has
        been a problem have been modified to ensure that any such
        URL strings are instantiated as a java.io.File object, then
        converted to a java.net.URI object. The URL string is
        finally obtained via the toString() method of the
        java.net.URI class. The strings generated in this manner
        are acceptable on both Windows and UNIX platforms.</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e528" id="d0e528"></a>2.
            Unable to Ingest Demo Objects when Fedora Server NOT on
            Port 8080.</h4>
          </div>
        </div>

        <p>The problem occurs because the METS xml files for the
        demo digital objects contain URLs that assume that the
        repository is running on port 8080. The URLs point to the
        location of the demo content that is served up by the local
        repository server.</p>

        <p>REPORTED ERROR: [DefaultExternalContentManager] returned
        an error. The underlying error was a
        fedora.server.errors.StreamIOException The message was
        "Server returned a non-200 response code (404) from GET
        request of URL:
        http://localhost:8080/demo/batch-demo/thumb/americanacademy.jpg"</p>

        <p>FIX: There are two kinds of demos that are affected:
        "batch demos" that are loaded via the batch tool and "local
        server demos." The content for the batch demos has been
        moved to www.fedora.info where it will always be available.
        The METS xml files for the batch demo objects now have URLs
        that point to the demo content at this stable location. The
        "local server demos" are intended to be run completely
        within the local server context (meaning a network
        connection is not necessary to run them). The content for
        these objects must, therefore, remain local to the Fedora
        server. A new command line utility called
        "fedora-convert-demos" is provided to convert demo object
        xml files to reference the currently configured host and
        port. If the Fedora repository is configured to a host and
        port other than the default of localhost:8080, the
        "fedora-convert-demos" utility should be run before
        ingesting local demo objects into the repository. The
        "fedora-convert-demos" is found in the
        FEDORA_HOME/client/bin/ directory. Instructions on running
        the utility can be found in the Client Documentation
        section of the system documentation.</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e537" id="d0e537"></a>3.
            Failure of Server Start-up when Running with Java
            1.4.2.</h4>
          </div>
        </div>

        <p>The Fedora server fails during initialization of the
        DefaultAccess module. DefaultAccess tries to use a
        dependent module (DOManager) that has not yet been loaded
        by the Fedora server. The problem does NOT occur in Java
        1.4.0 or 1.4.1.</p>

        <p>REPORTED ERROR: Can't get a DOManager from
        Server.getModule</p>

        <p>FIX: DefaultAccess is a server module, that itself needs
        access to other server modules. The DefaultAccess module
        initialization fails because DefaultAccess tries to access
        a dependent module (DOManager) that has not yet been loaded
        by the server. The problem is that server modules are not
        loaded in any particular order on server startup. Within
        any particular module's initModule method, you can't assume
        that ANY other modules are available from the server via
        the getModule(...) call. The solution is to move chunks of
        code like this to the postInitModule(...) method of the
        module in question. At THIS point in the server's
        lifecycle, you can assume that all modules have been loaded
        and are available via getModule(...), and that their
        initModule(...) methods have been called. Fedora server
        modules are listed in a HashMap. The reason that this
        problem showed up in Java 1.4.2 and not prior versions is
        that the order in which entries are put in a HashMap has
        changed in Java 1.4.2. It was just coincidence that the
        problem did not show up in prior Java versions (that loaded
        the HashMap in a different order.)</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e546" id="d0e546"></a>4.
            Hard-coding of Defaults for Server Host and Port.</h4>
          </div>
        </div>

        <p>There were several places in the Fedora 1.0 code base
        where the default host and port of the server was
        hard-coded as "localhost:8080". This required the
        repository administrator to make multiple changes when
        configuring a Fedora server to run on a different host or
        port.</p>

        <p>FIX: All references to hostname and port are now driven
        off the fedoraServerHost and fedoraServerPort parameters in
        the Fedora server configuration file (fedora.fcfg). With
        this fix, a simple modification to these parameters and a
        re-starting the server is all that is necessary to change
        where the fedora server runs.</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e553" id="d0e553"></a>5.
            Fedora Shutdown and Redirect Ports Hard-coded.</h4>
          </div>
        </div>

        <p>The Fedora server shutdown and redirect ports were not
        configurable. They were hard-coded in the Tomcat
        server_template.xml file as "8005" and "8443"
        respectively.</p>

        <p>FIX: These are now configurable in the Fedora server
        configuration file (fedora.fcfg).</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e560" id="d0e560"></a>6.
            OAI Identifier was NOT Configurable.</h4>
          </div>
        </div>

        <p>The repository domain name part of the OAI identifier
        was not configurable. It was hard-wired to be "fedora.info"
        which is not unique to a repository.</p>

        <p>FIX: The Fedora server configuration file (fedora.fcfg)
        now has a repository domain name parameter in the OAI-PMH
        module.</p>
      </div>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e567" id="d0e567"></a>KNOWN
          ISSUES:</h3>
        </div>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e570" id="d0e570"></a>1.
            Remote Password-protected Datastreams Need to be
            Redirected:</h4>
          </div>
        </div>

        <p>Fedora 1.0 and 1.1 servers are unable to mediate access
        to remote datastreams that are password-protected.
        Currently, Fedora provides IP restriction for its own
        interfaces (API-A and API-M). However, at this time, it
        does not handle backend security handshakes with remote
        servers. Thus, when a digital object makes reference to a
        datastream on a remote server and that server protects its
        content with HTTP Basic Authentication, Fedora will not be
        able to negotiate with the remote server to access that
        content. The way around this is to make sure that such
        datastreams are marked with as type R (Redirected Content).
        This is done in the METS XML file by setting OWNERID=R on
        the METS file element that used to encode the
        datastream.</p>
      </div>

      <div class="sec3">
        <div class="titlepage">
          <div>
            <h4 class="title"><a name="d0e575" id="d0e575"></a>2.
            Behavior Mechanisms with SOAP Bindings Not Yet
            Supported:</h4>
          </div>
        </div>

        <p>Fedora 1.0 and 1.1 servers cannot currently communicate
        with external web services that require the SOAP messaging
        protocol. This means that Behavior Mechanism Objects should
        not include WSDL that describes a service with SOAP
        bindings. In the current release, Fedora is able to
        communicate with web services that can be accessed via URLs
        using a simple HTTP GET (REST-style web services). The next
        release of Fedora will include a SOAP dispatching module
        which will enable the Fedora server to send SOAP requests
        to other services and receive SOAP responses from those
        services.</p>
		<p>&nbsp;</p><hr>
		<p>&nbsp;</p>
      </div>
    </div>
  </div>

  <div class="sec1">
    <div class="titlepage">
      <div>
        <h1 style="clear: both"><a name="rel1.0" id=
        "rel1.0"></a>7. Release 1.0 - May 16, 2003</h1>
      </div>
    </div>

    <p>This release is the first public release of the Fedora
    repository system. Fedora is licensed under the Mozilla
    License. Refer to the README and COPYING files in the
    distribution for details of the license and restrictions
    governing copying and redistribution. This release includes
    some major changes since release 0.9 that include the following
    additions and enhancements.</p>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e585" id="d0e585"></a>1.
          Behavior Definition and Behavior Mechanism Object
          Builder</h3>
        </div>
      </div>

      <p>A new tool has been added to the Admin client that
      facilitates the building of behavior definition and behavior
      mechanism objects. The bdef/bmech builder provides a
      graphical user interface that greatly simplifies the task of
      creating behavior definition and behavior mechanism objects
      from scratch.</p>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e590" id="d0e590"></a>2.
          Additional Component Management Method Implemented</h3>
        </div>
      </div>

      <p>Several additional methods in API-M have been implemented.
      The new methods include</p>

      <div class="itemizedlist">
        <ul type="disc">
          <li>
            <p>GetDatastream - retrieve the specified
            datastream</p>
          </li>

          <li>
            <p>GetDisseminator - retrieve the specified
            disseminator</p>
          </li>

          <li>
            <p>ListDatastreamIDs - obtain a list of datastream
            IDs</p>
          </li>

          <li>
            <p>ListDisseminatorIDs - obtain a list of disseminator
            IDs</p>
          </li>

          <li>
            <p>ModifyDatastreamExternal - change the pointer to a
            Referenced External Content datastream</p>
          </li>

          <li>
            <p>ModifyDatastreamManagedContent - change the contents
            of a Managed Content datastream</p>
          </li>

          <li>
            <p>ModifyDatastreamXMLMetadata - change the contents of
            an Implementor-Defined XML Metadata datastream</p>
          </li>

          <li>
            <p>modifyDisseminator - modify the references to the
            behavior definition or behavior mechanism associated
            with the specified disseminator</p>
          </li>
        </ul>
      </div>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e620" id="d0e620"></a>3.
          Batch Utility Enhancements</h3>
        </div>
      </div>

      <p>The Batch Utility has been enhanced to make it less
      platform specific: all application files are now specified
      relative to the FEDORA_HOME environment variable. Also, a new
      tool has been added, combining build and ingest into a single
      step.</p>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e625" id="d0e625"></a>4.
          Documentation</h3>
        </div>
      </div>

      <p>The Fedora documentation now includes revised and enhanced
      Installation Guide, Release Notes, Manual, and Demos Guide.
      The Fedora manual includes a general introduction to the
      architecture, Installation Guide, User's Guide, and
      Developer's Guide. Upon successful installation, all
      documentation is also available through the userdocs webapp
      and can be access using the syntax:</p>

      <p>http://hostname:port/userdocs</p>

      <div class="itemizedlist">
        <ul type="disc">
          <li>
            <p>hostname - required hostname of the Fedora
            server.</p>
          </li>

          <li>
            <p>port - required port number on which the Fedora
            server is running.</p>
          </li>

          <li>
            <p>userdocs - a required parameter specifying the
            Fedora servlet path hostname - required hostname of the
            Fedora server.</p>
          </li>
        </ul>
      </div>

      <p>In-line documentation in the source code has also been
      updated.</p>
		<p>&nbsp;</p><hr>
		<p>&nbsp;</p>
    </div>
  </div>

  <div class="sec1">
    <div class="titlepage">
      <div>
        <h1 style="clear: both"><a name="rel0.9" id=
        "rel0.9"></a>8. Release 0.9 - March 7, 2003</h1>
      </div>
    </div>

    <p>This release includes major changes since the December Beta1
    release that include the following additions and
    enhancements.</p>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e649" id="d0e649"></a>1.
          Repository-Managed Content Datastreams</h3>
        </div>
      </div>

      <p>The implementation of Repository-Managed Content
      datastreams has been added. Repository-Managed Content is
      used for datastreams that are to be under the complete
      control of the Fedora repository. Upon ingestion, content
      that is referenced in the Fedora-METS "file" element is
      copied to an internal storage location in the Fedora server
      and the external pointer in the Fedora-METS object is updated
      to reflect the new internal storage location.
      Repository-Managed Content should be used in cases where it
      is desirable for datastream content to be stored and managed
      locally within the Fedora server. The repository manager must
      insure that there is sufficient disk space allocated to
      accommodate the ingestion of objects containing
      Repository-Managed Content.</p>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e654" id="d0e654"></a>2.
          Implementor-Defined XML Metadata Datastreams</h3>
        </div>
      </div>

      <p>The implementation of Implementor-Defined XML Metadata
      datastreams has been added. XMLMetadata datastreams represent
      user-defined XML-encoded metadata that is included in-line in
      the "amdSec" and "dmdSec" elements of the Fedora-Mets object.
      Although these datastreams are included in the metadata
      section of the Fedora-METS object, they can be disseminated
      just like the regular datastreams included in the "fileSec"
      element. Implementor-Defined XML Metadata datastreams should
      be used in cases where it is desirable to include
      user-defined metadata in-line in the Fedora-METS object. The
      Dublin Core metadata datastream is an example of an
      Implementor-Defined XML Metadata datastream (see Search
      Interface note).</p>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e659" id="d0e659"></a>3.
          API-A-Lite Interface</h3>
        </div>
      </div>

      <p>A new Fedora Access interface has been implemented known
      as API-A-Lite. API-A-Lite provides a streamlined
      implementation of the Fedora Access API over HTTP. The new
      interface provides two methods: GetDissemination, and
      GetObjectProfile. GetDissemination is used to request
      disseminations using HTTP. GetObjectProfile uses object
      reflection to provide a description of an object and its
      components.</p>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e664" id="d0e664"></a>4.
          Search Interface</h3>
        </div>
      </div>

      <p>The implementation of a new search interface has been
      added. Upon ingestion, metadata from the Fedora System
      Metadata section and the Dublin Core (DC) Metadata section of
      the object are indexed in a relational database, and may be
      searched using this interface. The DC Metadata section is an
      optional Implementor-Defined XML Metadata datastream in the
      object, where the "Datastream ID" is DC, and the XML conforms
      to the schema at:
      http://www.openarchives.org/OAI/2.0/oai_dc.xsd. If such a
      datastream is not provided, only the System Metadata will be
      indexed for that object. The search interface provides both
      simple and advanced searching via a web page included with
      the repository software. All queries are case insensitive.
      Simple search enables queries of words and phrases occurring
      anywhere in an object s indexed metadata fields. Advanced
      Search enables fielded searching across any combination of
      metadata elements using string comparison operators (= and ~)
      for string fields, and value comparison operators (&nbsp; =, &gt;, &#8805;, &lt;, &#8804; &nbsp;) 
      for date fields (dc:date fields may
      be treated as both). The wildcards, * and ? may be used in
      any string-based query.</p>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e669" id="d0e669"></a>5. OAI
          Provider Interface</h3>
        </div>
      </div>

      <p>The implementation of an OAI-PMH2.0 Provider interface has
      been added. OAI-PMH is a standard for sharing metadata across
      repositories. Currently, only the Dublin Core metadata for
      each object may be disseminated via this interface.</p>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e674" id="d0e674"></a>6.
          Access Control and Authentication</h3>
        </div>
      </div>

      <p>Although Access Control is not slated until year two of
      the project, the implementation of a simple form of access
      control has been added to provide a minimal level of
      security. IP range restriction is supported at both the
      Management API and the Access API exposures. The fedora.fcfg
      configuration file contains two new optional parameters in
      the Access and Management Modules named "allowhosts" and
      "denyhost" that are used to provide a comma delimited set of
      IP ranges. By default, the Management API is restricted to
      the IP address of the local host and the Access API is
      unrestricted. In addition, basic authentication is supported
      for API-M client-to-server communication. The client scripts
      and fedora-admin GUI have been modified to take a username
      and password at startup. Only one user, the super user
      "fedoraAdmin", is supported at this time. The password for
      fedoraAdmin is configured in fedora.fcfg.</p>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e679" id="d0e679"></a>7.
          Server Port Configuration</h3>
        </div>
      </div>

      <p>Server administrators can now more easily configure the
      port on which the Fedora server is exposed. The port is set
      in fedora.fcfg. Its default is 8080.</p>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e684" id="d0e684"></a>8.
          METS Extension</h3>
        </div>
      </div>

      <p>To accommodate some of the new functionality in Fedora, it
      was necessary to extend the METS schema. Fedora-METS objects
      are now validated against this extended version of METS. The
      extended schema, mets-fedora-ext.xsd, is available at
      dist/server/xsd/ and contains inline comments where changes
      were made. Other constraints for the objects, expressed in
      schematron, are available in the dist/server/schematron/
      directory. The demonstration objects act as useful examples
      in understanding this schema.</p>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e689" id="d0e689"></a>9.
          Default Disseminator</h3>
        </div>
      </div>

      <p>The implementation of a new Default Disseminator has been
      added. Prior to this release, a data object could not be
      disseminated without first constructing and ingesting a
      behavior definition and behavior mechanism object. The
      Default Disseminator is a built-in internal disseminator on
      every object that provides an internal behavior mechanism for
      disseminating the basic contents of an object. The Default
      Disseminator does not replace Behavior Definition and
      Behavior Mechanism object. Instead, it provides a simple way
      for viewing the contents of an object without having to
      construct a separate Behavior Definition and Behavior
      Mechanism object. Behavior Definition and Behavior Mechanism
      objects are still required for creating disseminations that
      provide more complex sets of behaviors.</p>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e694" id="d0e694"></a>10.
          Storage Subsystem Enhancements</h3>
        </div>
      </div>

      <p>The code supporting the Java instantiation of Fedora
      Digital Objects inside the server has been re-worked so that
      serialization and deserialization are completely de-coupled
      from the Java interfaces to the objects: the DOReaders and
      DOWriters. Method names have also been changed to be more
      meaningful and consistent. The serialization and
      deserialization code has been modified to support the new
      version of the Fedora METS extension schema (described
      above). Overall, the code in this portion of the server is
      more compact and robust than in the previous version of the
      software.</p>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e699" id="d0e699"></a>11.
          Batch Ingest Tool Enhancements</h3>
        </div>
      </div>

      <p>The functionality to create and ingest batches of objects
      has been moved under the fedora-admin client tool. This
      consolidates administrative functions into a single tool and
      provides a readily accessible user interface. There are now
      more attributes which can be substituted, per-object, into
      the batch template. These include object label; datastream
      labels, both general and specific to a disseminator; and
      datastream title. An object comment can also be inserted.</p>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e704" id="d0e704"></a>12.
          New Demo Objects</h3>
        </div>
      </div>

      <p>This includes new demonstration objects. These objects can
      be loaded into the repository in one of two ways. The xml
      source files can be "ingested" into the repository via the
      Fedora Admin GUI client (from the command prompt, run:
      fedora-admin). Otherwise, they can be loaded with all other
      demos by running the demo load script (from the command
      prompt, run: fedora-demoall [hostname] [port] [username]
      [password]). The demo object source xml files for the demo
      objects can be found in the following directory:
      [FEDORA_HOME]/server/demo</p>

      <p>There are two categories of demonstrations:</p>

      <div class="itemizedlist">
        <ul type="disc">
          <li>
            <p><span class="emphasis"><em>Local Server Demos
            -</em></span> These demos can be run under any
            conditions. They are intended to work when the Fedora
            repository server is in a stand-alone condition, for
            example, if the repository is running without a network
            connection, or if the repository is behind a firewall
            and not set up to received outside connections.</p>
          </li>

          <li>
            <p><span class="emphasis"><em>Open Server Demos
            -</em></span> These demos can only be run if the Fedora
            repository server is running as a network accessible
            server, meaning that it can make outgoing connections
            AND accept incoming connections. If the repository
            server is running behind a firewall, the firewall must
            be configured to allow incoming connections on the port
            that the repository server is running. The Open Server
            Demos use distributed content and services that are
            remote to the repository server.</p>
          </li>
        </ul>
      </div>

      <p>Once demo objects are ingested into the repository, they
      can be viewed via a web browser using API-A-LITE or API-A.
      Remember the URL syntax to get the object profile via
      API-A-LITE is:
      http://{hostname}:{port}/fedora/get/{objectPID}</p>

      <p><span class="emphasis"><em>Example:</em></span>
      http://localhost:8080/fedora/get/demo:5</p>

      <p>For additional information refer to the demos.html file in
      the userdocs directory.</p>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e734" id="d0e734"></a>13.
          Documentation</h3>
        </div>
      </div>

      <p>After you have installed the software and started the
      server, you can access the documentation at
      http://localhost:8080/userdocs (substitute your own hostname
      and port number if using something other than the
      default).</p>
		<p>&nbsp;</p><hr>
		<p>&nbsp;</p>
    </div>
  </div>

  <div class="sec1">
    <div class="titlepage">
      <div>
        <h1 style="clear: both"><a name="relbeta1"
        id="relbeta1"></a>9. Beta 1 - Dec 20, 2002</h1>
      </div>
    </div>

    <p>This release adds several important features to the Fedora
    software, including a batch ingest tool, parameterized
    disseminations, and datastream mediation. Digital object
    serialization and PID generation are now fully active, and
    validation has been enhanced. This is a non-public release.</p>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e744" id="d0e744"></a>1.
          Batch Ingest</h3>
        </div>
      </div>

      <p>A simple batch tool has been added, enabling the creation
      of a batch of objects conforming to the same content model.
      The tool consists of a 3 phase process. Phase 1 will take a
      directory structure consisting of datastreams and metadata
      and convert that information into an XML-encoded file. Phase
      2 will then take the XML-encoded file and merge that with a
      object template file that specifies the content model being
      used to produce a Fedora METS-encoded file. Phase 3 of the
      process then ingests the METS-encoded files and returns a
      list of the PIDs that were assigned to the new objects. Phase
      2 and Phase 3 are implemented in the beta1 release. Phase 1
      will be implemented in the next release and is NOT available
      in the beta1 release.</p>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e749" id="d0e749"></a>2. PID
          Generation</h3>
        </div>
      </div>

      <p><span class="emphasis"><em>PID generation has been
      activated.</em></span> Upon ingestion, Fedora objects that
      pass validation are automatically assigned a unique
      persistent identifer or PID. The namespace prefix on the PID
      is determined by the namespace parameter in the fedora.cfg
      configuration file.</p>

      <p><span class="emphasis"><em>Special default PID
      namespace.</em></span> To simplify initial setup and use of
      the repository, the default namespace of "test:" enables
      special handling of Fedora object PIDs. If the PID namespace
      is set to "test:" in the fedora/fcfg configuration file, the
      ingest method will NOT generate unique PIDs, but will instead
      use the PID values contained in the Fedora objects. This
      behavior occurs ONLY for the namespace of "test:". This
      feature was enabled to allow for easier loadeing of sample
      objects by novice users of the repository software.</p>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e762" id="d0e762"></a>3.
          Serialization</h3>
        </div>
      </div>

      <p>Objects are completely deserialized and re-serialed upon
      ingest. This has the effect that the stored version of the
      object (in METS form) will not be the same byte-for-byte as
      the version coming out, but the information will be
      preserved. It also enables more complete validation and PID
      generation.</p>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e767" id="d0e767"></a>4.
          Validation Enhancements</h3>
        </div>
      </div>

      <p>Two-phase validation of objects implemented. Upon
      ingestion, Fedora objects undergo a two phase validation
      process to validate against the Fedora METS schema and to
      validate against a set of rules defined for Fedora
      objects.</p>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e772" id="d0e772"></a>5.
          Parameters</h3>
        </div>
      </div>

      <p><span class="emphasis"><em>Method Parameters
      enabled</em></span> Method parameters can now be defined in
      Behavior Mechanism objects using WSDL providing a way to pass
      parameters to methods from the end user. For example, an
      image mechanism might have a method named getImage with
      parameters X and Y that specify the pixel dimensions of the
      requested image. Method parameters may be supplied by the end
      user on a dissemination request to affect the result of the
      dissemination.</p>

      <p><span class="emphasis"><em>Default Method Parameters
      enabled</em></span> Mechanism designers can now create method
      parameters that are known only to the mechanism. Default
      method parameters cannot be altered by the end user and their
      values must be specified in the Behavior Mechanism
      object.</p>

      <p><span class="emphasis"><em>Enhancements to the example
      soap client (FedoraAccessSoapServlet)</em></span> In the
      alpha1 release, the soap client enabled one to reflect on an
      object using GetBehaviorDefinitions and GetObjectMethods to
      display a list of all methods for a given object and to
      disseminate each of the methods. This interface has been
      enhanced to now allow for user input of method parameters for
      those methods that define parameters.</p>

      <p><span class="emphasis"><em>DB Schema updated</em></span> A
      new table named MechDefaultParameter has been added and the
      datatype and length of some column names have changed.</p>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e795" id="d0e795"></a>6.
          Fedora Public Website</h3>
        </div>
      </div>

      <p>Added a <a href="http://www.fedora.info/download/previous.shtml" target=
      "_top">release directory</a> for downloading both milestone
      source builds and nightly binary distributions.<!--, and created a
      <a href="http://www.fedora.info/wiki/bin/view/Fedora/WebHome"
      target="_top">wiki for user support and FAQs</a>.--></p>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e806" id="d0e806"></a>7.
          Datastream Mediation</h3>
        </div>
      </div>

      <p>To provide better security for the physical location of
      datastreams, a simple proxy has been implemented to disguise
      the location of datastreams to external mechanisms.</p>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e811" id="d0e811"></a>8.
          Sample Objects</h3>
        </div>
      </div>

      <p>The sample objects in the demo directory have been renamed
      for readability. The content of the objects has also been
      updated to reflect new additions like method parameters and
      default method parameters. The WSDL in the mrsid mechanism
      object in the alpha1 version contained errors that have been
      corrected. There is also a sample directory of image files
      and their associated metadata to create a batch of 10 image
      objects using the new batch tool.</p>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e816" id="d0e816"></a>9.
          Documentation</h3>
        </div>
      </div>

      <p>Enhanced in-line documentation in code. Ancillary
      documentation and diagrams updated. Master Specification
      Document updated. The Specification documented distributed in
      June 2002 has been updated to reflect changes.</p>
		<p>&nbsp;</p><hr>
		<p>&nbsp;</p>
    </div>
  </div>

  <div class="sec1">
    <div class="titlepage">
      <div>
        <h1 style="clear: both"><a name="relalpha1"
        id="relalpha1"></a>10. Alpha 1 - Oct 31, 2002</h1>
      </div>
    </div>

    <p>Provided for the first time at the development/deployment
    team meeting at UVA, this release includes a basic server that
    can ingest objects, view objects in the repository, and export
    objects. This is a non-public release.</p>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e826" id="d0e826"></a>1.
          Management API</h3>
        </div>
      </div>

      <p>The management API is exposed via SOAP over HTTP and has
      the following methods implemented:</p>

      <div class="itemizedlist">
        <ul type="disc">
          <li>
            <p>ingestObject</p>
          </li>

          <li>
            <p>purgeObject</p>
          </li>

          <li>
            <p>listObjectPIDs</p>
          </li>

          <li>
            <p>exportObject</p>
          </li>
        </ul>
      </div>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e845" id="d0e845"></a>2.
          Management Client</h3>
        </div>
      </div>

      <p>The included GUI, Fedora Administrator, can be used to
      ingest objects, purge objects, view objects, and export
      objects. It also includes diagnostic consoles for API-M and
      API-A.</p>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e850" id="d0e850"></a>3.
          Access API</h3>
        </div>
      </div>

      <p>The access API is exposed via SOAP over HTTP and has the
      following methods implemented:</p>

      <div class="itemizedlist">
        <ul type="disc">
          <li>
            <p>getBehaviorDefinitions</p>
          </li>

          <li>
            <p>getBehaviorMethods</p>
          </li>

          <li>
            <p>getBehaviorMethodsAsWSDL</p>
          </li>

          <li>
            <p>getObjectMethods</p>
          </li>

          <li>
            <p>getDissemination</p>
          </li>
        </ul>
      </div>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e872" id="d0e872"></a>4.
          Access Client</h3>
        </div>
      </div>

      <p>A java servlet is included with the server distribution
      that translates from pure HTTP requests to SOAP requests and
      provides an HTML interface so that object methods may be
      browsed and getDissemination requests can be provided without
      the need to send/recieve SOAP envelopes.</p>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e877" id="d0e877"></a>5.
          Object Validation</h3>
        </div>
      </div>

      <p>Objects must be validated according to METS schema rules,
      Fedora-imposed schema rules, and object integrity rules. For
      this release, the validation module implements the first two,
      but only METS schema validation has been activated.</p>
    </div>

    <div class="sec2">
      <div class="titlepage">
        <div>
          <h3 class="title"><a name="d0e882" id="d0e882"></a>6.
          Storage Subsystem</h3>
        </div>
      </div>

      <p>This has been implemented on top of a filesystem and a
      partially redundant database.</p>
    </div>
  </div><!-- end Inserted release notesf rom Fedora 1.2.1 -->

  <div id="footer">
    <div id="copyright">
      Copyright &copy; 2005 Fedora Project
    </div>

    <div id="lastModified">
      Last Modified <script type="text/javascript">
      //<![CDATA[
            var cvsDate = "$Date$";
            var parts = cvsDate.split(" ");
            var modifiedDate = parts[1];
            document.write(modifiedDate);
      //]]>
      </script>
    </div>
  </div>
</body>
</html>

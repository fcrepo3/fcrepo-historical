<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">

<head>
  <title>Fedora API-M Performance Report</title>
  <meta name="robots" content="all"/>
  <link href="../../docstyle.css" rel="stylesheet" type="text/css"/>
  <script language="Javascript">
    
  </script>
</head>

<body>
  <div id="header">
      <a href="../../index.html" id="logo"></a>
      <div id="title">
        <h1>Fedora 2.2 Performance Report</h1>
       </div>
  </div>
 <div class="toc">
    <h2>Table of Contents</h2>
    <div class="tocbox">
      <ol>
        <li> <a href="#intro">Introduction</a></li>
        <li> <a href="#environ">Test Environment</a></li>
        <li> <a href="#results">Test Results</a></li>
      </ol>
    </div>
  </div>
  
  <div class="sec1">
    <h2><a name="intro">Introduction</a></h2>

    <p>
      Intro here.
    </p>
  </div>

  <div class="sec2">
    <h2><a name="environ">Test Environment</a></h2>

    <p>
      Hardware:</p>
      <ul>
        <li> CPU: (1) Athlon 64 3400+</li>
        <li> Physical Memory: 3.2GB</li>
      </ul>

    <p>
      Software:</p>
      <ul>
        <li> OS: Linux 2.6.9-11 (64-bit)</li>
        <li> Database 1: MySQL v4.1.20 (local instance)</li>
        <li> Database 2: PostgreSQL 8.1 (local instance)</li>
        <li> Java: 1.5.0_06-b05 (64-bit)</li>
      </ul>

    <p>
      All tests were performed on a single Fedora server with:</p>
      <ul>
        <li> 10,000 digital objects, each with:
             <ul>
                <li> 4 "X" (inline XML) datastreams</li>
                <li> 2 "M" (managed) datastreams</li>
                <li> 0 disseminators</li>
                <li> An average FOXML size of 4kb</li>
             </ul>
        </li>
      </ul>
  </div>

  <div class="sec2">
    <h2><a name="results">Test Results</a></h2>

    <img src="summary.png"/>

    <pre>
            Fedora API-M Performance Results (Commodity Hardware)
            =====================================================

Measurements were taken from the client, running on the same machine.

Each object started with four inline XML datastreams, two managed content
datastreams, and no disseminators.  For the purpose of consistency, the
size each datastream was kept to a minimum (under 200 bytes)

Test Type    Description
-----------  -----------------------------------------------------------------
ingestObjI   Ingest objects with managed content base64-encoded
ingestObjP   Ingest objects with managed content uploaded via HTTP POST
             prior to the ingest call (the upload is part of the measurement)
modDSByRefV  Modify versionable managed content by first uploading the value
             via HTTP POST, then making the modifyDatastreamByReference call
             (the upload is part of the measurement)
modDSByValV  Modify versionable inline XML content via modifyDatastreamByValue
purgeDSIV    Purge all versions (2) of a versionable inline XML datastream
purgeDSMV    Purge all versions (2) of a versionable managed datastream
purgeObj     Purge the entire object


Fedora DB  AuthZ RILv  RIImpl    RIFlush Test Type     Avg. Millis/Obj
---------  ----- ----  --------  ------- -----------   ---------------
                                                       2.1.1     2.2
                                                       -----    ------

MySQL      off   0     NA        NA      ingestObjI       --     37.83
                                         ingestObjP    49.33     45.07
                                         modDSByRefV  204.42     32.51
                                         modDSByValV  197.11     26.11
                                         purgeDSIV    196.34     24.18
                                         purgeDSMV    223.34     26.01
                                         purgeObj     208.65     14.58

MySQL      on    0     NA        NA      ingestObjI       --     58.54
                                         ingestObjP    49.94     63.33
                                         modDSByRefV  232.74     50.77
                                         modDSByValV  235.96*    41.58
                                         purgeDSIV    237.25*    39.67
                                         purgeDSMV    235.23*    41.58
                                         purgeObj     227.88*    32.62

Postgres   off   0     NA        NA      ingestObjI       --     43.25
                                         ingestObjP       --     45.26
                                         modDSByRefV      --     36.92
                                         modDSByValV      --     29.01
                                         purgeDSIV        --     29.48
                                         purgeDSMV        --     33.34
                                         purgeObj         --     21.10

MySQL      off   2     Kowari    Async   ingestObjI       --     59.97
                                         ingestObjP    64.77     62.10
                                         modDSByRefV  782.87*    51.62
                                         modDSByValV 1046.43*    45.44
                                         purgeDSIV   1272.63*    45.99
                                         purgeDSMV    886.66*    48.04
                                         purgeObj     271.18*    40.12

MySQL      off   2     Kowari    Sync    ingestObjI       --    966.41*
                                         ingestObjP       --    931.51*
                                         modDSByRefV      --    533.46*
                                         modDSByValV      --    546.00*
                                         purgeDSIV        --    705.09*
                                         purgeDSMV        --    743.15*
                                         purgeObj         --    977.60*
 
MySQL      off   2     MPTStore  Async   ingestObjI       --    61.49
                                         ingestObjP       --    61.49
                                         modDSByRefV      --    52.17
                                         modDSByValV      --    45.48
                                         purgeDSIV        --    44.38
                                         purgeDSMV        --    46.08
                                         purgeObj         --    33.22

MySQL      off   2     MPTStore  Sync    ingestObjI       --    60.34
                                         ingestObjP       --    67.19
                                         modDSByRefV      --    53.26
                                         modDSByValV      --    46.59
                                         purgeDSIV        --    47.08
                                         purgeDSMV        --    48.81
                                         purgeObj         --    42.28

-------------------------------------------------------------------------
* Due to time constraints, only 500 operations were run for these tests.

    </pre>

    For raw results, please see <a href="raw-results.zip">raw-results.zip</a>.
    This zip file also includes the program used to run the tests.
  </div>


  <div id="footer">
    <div id="copyright">
      Copyright &copy; 2007 Fedora Project
    </div>

    <div id="lastModified">
      Last Modified <script type="text/javascript">
      //<![CDATA[
            var cvsDate = "$Date$";
            var parts = cvsDate.split(" ");
            var modifiedDate = parts[1];
            document.write(modifiedDate);
      //]]>
      </script>
    </div>
  </div>
</body>
</html>
